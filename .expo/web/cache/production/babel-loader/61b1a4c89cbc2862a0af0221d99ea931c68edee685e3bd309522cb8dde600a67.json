{"ast":null,"code":"'use strict';import _toConsumableArray from\"@babel/runtime/helpers/toConsumableArray\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import{isWorkletFunction}from\"./commonTypes.js\";import{ReanimatedError}from\"./errors.js\";import{isJest,shouldBeUseWeb}from\"./PlatformChecker.js\";import{ReanimatedModule}from'./ReanimatedModule';import{makeShareableCloneOnUIRecursive,makeShareableCloneRecursive}from\"./shareables.js\";var IS_JEST=isJest();var SHOULD_BE_USE_WEB=shouldBeUseWeb();var _runOnUIQueue=[];var _worklet_12099126053083_init_data={code:\"function setupMicrotasks_threadsJs1(){let microtasksQueue=[];let isExecutingMicrotasksQueue=false;global.queueMicrotask=function(callback){microtasksQueue.push(callback);};global.__callMicrotasks=function(){if(isExecutingMicrotasksQueue){return;}try{isExecutingMicrotasksQueue=true;for(let index=0;index<microtasksQueue.length;index+=1){microtasksQueue[index]();}microtasksQueue=[];global._maybeFlushUIUpdatesQueue();}finally{isExecutingMicrotasksQueue=false;}};}\"};export var setupMicrotasks=function(){var setupMicrotasks=function setupMicrotasks(){var microtasksQueue=[];var isExecutingMicrotasksQueue=false;global.queueMicrotask=function(callback){microtasksQueue.push(callback);};global.__callMicrotasks=function(){if(isExecutingMicrotasksQueue){return;}try{isExecutingMicrotasksQueue=true;for(var index=0;index<microtasksQueue.length;index+=1){microtasksQueue[index]();}microtasksQueue=[];global._maybeFlushUIUpdatesQueue();}finally{isExecutingMicrotasksQueue=false;}};};setupMicrotasks.__closure={};setupMicrotasks.__workletHash=12099126053083;setupMicrotasks.__initData=_worklet_12099126053083_init_data;return setupMicrotasks;}();var _worklet_6162042684295_init_data={code:\"function callMicrotasksOnUIThread_threadsJs2(){global.__callMicrotasks();}\"};var callMicrotasksOnUIThread=function(){var callMicrotasksOnUIThread=function callMicrotasksOnUIThread(){global.__callMicrotasks();};callMicrotasksOnUIThread.__closure={};callMicrotasksOnUIThread.__workletHash=6162042684295;callMicrotasksOnUIThread.__initData=_worklet_6162042684295_init_data;return callMicrotasksOnUIThread;}();export var callMicrotasks=SHOULD_BE_USE_WEB?function(){}:callMicrotasksOnUIThread;var _worklet_11502088742429_init_data={code:\"function runOnUI_threadsJs3(worklet){const{__DEV__,SHOULD_BE_USE_WEB,isWorkletFunction,IS_JEST,ReanimatedModule,makeShareableCloneRecursive,callMicrotasks}=this.__closure;if(__DEV__&&!SHOULD_BE_USE_WEB&&_WORKLET){throw new ReanimatedError('`runOnUI` cannot be called on the UI runtime. Please call the function synchronously or use `queueMicrotask` or `requestAnimationFrame` instead.');}if(__DEV__&&!SHOULD_BE_USE_WEB&&!isWorkletFunction(worklet)){throw new ReanimatedError('`runOnUI` can only be used with worklets.');}return function(...args){if(IS_JEST){ReanimatedModule.scheduleOnUI(makeShareableCloneRecursive(function(){'worklet';worklet(...args);}));return;}if(__DEV__){makeShareableCloneRecursive(worklet);makeShareableCloneRecursive(args);}_runOnUIQueue.push([worklet,args]);if(_runOnUIQueue.length===1){queueMicrotask(function(){const queue=_runOnUIQueue;_runOnUIQueue=[];ReanimatedModule.scheduleOnUI(makeShareableCloneRecursive(function(){'worklet';queue.forEach(function([worklet,args]){worklet(...args);});callMicrotasks();}));});}};}\"};var _worklet_9086703493462_init_data={code:\"function threadsJs4(){const{worklet,args}=this.__closure;worklet(...args);}\"};var _worklet_5843954769346_init_data={code:\"function threadsJs5(){const{queue,callMicrotasks}=this.__closure;queue.forEach(function([worklet,args]){worklet(...args);});callMicrotasks();}\"};export var runOnUI=function(){var runOnUI=function runOnUI(worklet){if(false&&!SHOULD_BE_USE_WEB&&_WORKLET){throw new ReanimatedError('`runOnUI` cannot be called on the UI runtime. Please call the function synchronously or use `queueMicrotask` or `requestAnimationFrame` instead.');}if(false&&!SHOULD_BE_USE_WEB&&!isWorkletFunction(worklet)){throw new ReanimatedError('`runOnUI` can only be used with worklets.');}return function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}if(IS_JEST){ReanimatedModule.scheduleOnUI(makeShareableCloneRecursive(function(){var threadsJs4=function threadsJs4(){worklet.apply(void 0,args);};threadsJs4.__closure={worklet:worklet,args:args};threadsJs4.__workletHash=9086703493462;threadsJs4.__initData=_worklet_9086703493462_init_data;return threadsJs4;}()));return;}if(false){makeShareableCloneRecursive(worklet);makeShareableCloneRecursive(args);}_runOnUIQueue.push([worklet,args]);if(_runOnUIQueue.length===1){queueMicrotask(function(){var queue=_runOnUIQueue;_runOnUIQueue=[];ReanimatedModule.scheduleOnUI(makeShareableCloneRecursive(function(){var threadsJs5=function threadsJs5(){queue.forEach(function(_ref){var _ref2=_slicedToArray(_ref,2),worklet=_ref2[0],args=_ref2[1];worklet.apply(void 0,_toConsumableArray(args));});callMicrotasks();};threadsJs5.__closure={queue:queue,callMicrotasks:callMicrotasks};threadsJs5.__workletHash=5843954769346;threadsJs5.__initData=_worklet_5843954769346_init_data;return threadsJs5;}()));});}};};runOnUI.__closure={__DEV__:false,SHOULD_BE_USE_WEB:SHOULD_BE_USE_WEB,isWorkletFunction:isWorkletFunction,IS_JEST:IS_JEST,ReanimatedModule:ReanimatedModule,makeShareableCloneRecursive:makeShareableCloneRecursive,callMicrotasks:callMicrotasks};runOnUI.__workletHash=11502088742429;runOnUI.__initData=_worklet_11502088742429_init_data;return runOnUI;}();var _worklet_10638804238608_init_data={code:\"function threadsJs6(){const{worklet,args,makeShareableCloneOnUIRecursive}=this.__closure;const result=worklet(...args);return makeShareableCloneOnUIRecursive(result);}\"};export function executeOnUIRuntimeSync(worklet){return function(){for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2];}return ReanimatedModule.executeOnUIRuntimeSync(makeShareableCloneRecursive(function(){var threadsJs6=function threadsJs6(){var result=worklet.apply(void 0,args);return makeShareableCloneOnUIRecursive(result);};threadsJs6.__closure={worklet:worklet,args:args,makeShareableCloneOnUIRecursive:makeShareableCloneOnUIRecursive};threadsJs6.__workletHash=10638804238608;threadsJs6.__initData=_worklet_10638804238608_init_data;return threadsJs6;}()));};}var _worklet_10692732931423_init_data={code:\"function runOnUIImmediately_threadsJs7(worklet){const{__DEV__,SHOULD_BE_USE_WEB,isWorkletFunction,ReanimatedModule,makeShareableCloneRecursive}=this.__closure;if(__DEV__&&!SHOULD_BE_USE_WEB&&_WORKLET){throw new ReanimatedError('`runOnUIImmediately` cannot be called on the UI runtime. Please call the function synchronously or use `queueMicrotask` or `requestAnimationFrame` instead.');}if(__DEV__&&!SHOULD_BE_USE_WEB&&!isWorkletFunction(worklet)){throw new ReanimatedError('`runOnUIImmediately` can only be used with worklets.');}return function(...args){ReanimatedModule.scheduleOnUI(makeShareableCloneRecursive(function(){'worklet';worklet(...args);}));};}\"};var _worklet_1655652225370_init_data={code:\"function threadsJs8(){const{worklet,args}=this.__closure;worklet(...args);}\"};export var runOnUIImmediately=function(){var runOnUIImmediately=function runOnUIImmediately(worklet){if(false&&!SHOULD_BE_USE_WEB&&_WORKLET){throw new ReanimatedError('`runOnUIImmediately` cannot be called on the UI runtime. Please call the function synchronously or use `queueMicrotask` or `requestAnimationFrame` instead.');}if(false&&!SHOULD_BE_USE_WEB&&!isWorkletFunction(worklet)){throw new ReanimatedError('`runOnUIImmediately` can only be used with worklets.');}return function(){for(var _len3=arguments.length,args=new Array(_len3),_key3=0;_key3<_len3;_key3++){args[_key3]=arguments[_key3];}ReanimatedModule.scheduleOnUI(makeShareableCloneRecursive(function(){var threadsJs8=function threadsJs8(){worklet.apply(void 0,args);};threadsJs8.__closure={worklet:worklet,args:args};threadsJs8.__workletHash=1655652225370;threadsJs8.__initData=_worklet_1655652225370_init_data;return threadsJs8;}()));};};runOnUIImmediately.__closure={__DEV__:false,SHOULD_BE_USE_WEB:SHOULD_BE_USE_WEB,isWorkletFunction:isWorkletFunction,ReanimatedModule:ReanimatedModule,makeShareableCloneRecursive:makeShareableCloneRecursive};runOnUIImmediately.__workletHash=10692732931423;runOnUIImmediately.__initData=_worklet_10692732931423_init_data;return runOnUIImmediately;}();function runWorkletOnJS(worklet){for(var _len4=arguments.length,args=new Array(_len4>1?_len4-1:0),_key4=1;_key4<_len4;_key4++){args[_key4-1]=arguments[_key4];}worklet.apply(void 0,args);}var _worklet_2184637262464_init_data={code:\"function runOnJS_threadsJs9(fun){const runOnJS_threadsJs9=this._recur;const{SHOULD_BE_USE_WEB,isWorkletFunction,runWorkletOnJS,makeShareableCloneOnUIRecursive}=this.__closure;if(SHOULD_BE_USE_WEB||!_WORKLET){return function(...args){return queueMicrotask(args.length?function(){return fun(...args);}:fun);};}if(isWorkletFunction(fun)){return function(...args){return runOnJS_threadsJs9(runWorkletOnJS)(fun,...args);};}if(fun.__remoteFunction){fun=fun.__remoteFunction;}const scheduleOnJS=typeof fun==='function'?global._scheduleHostFunctionOnJS:global._scheduleRemoteFunctionOnJS;return function(...args){scheduleOnJS(fun,args.length>0?makeShareableCloneOnUIRecursive(args):undefined);};}\"};export var runOnJS=function(){var _runOnJS=function runOnJS(fun){if(SHOULD_BE_USE_WEB||!_WORKLET){return function(){for(var _len5=arguments.length,args=new Array(_len5),_key5=0;_key5<_len5;_key5++){args[_key5]=arguments[_key5];}return queueMicrotask(args.length?function(){return fun.apply(void 0,args);}:fun);};}if(isWorkletFunction(fun)){return function(){for(var _len6=arguments.length,args=new Array(_len6),_key6=0;_key6<_len6;_key6++){args[_key6]=arguments[_key6];}return _runOnJS(runWorkletOnJS).apply(void 0,[fun].concat(args));};}if(fun.__remoteFunction){fun=fun.__remoteFunction;}var scheduleOnJS=typeof fun==='function'?global._scheduleHostFunctionOnJS:global._scheduleRemoteFunctionOnJS;return function(){for(var _len7=arguments.length,args=new Array(_len7),_key7=0;_key7<_len7;_key7++){args[_key7]=arguments[_key7];}scheduleOnJS(fun,args.length>0?makeShareableCloneOnUIRecursive(args):undefined);};};_runOnJS.__closure={SHOULD_BE_USE_WEB:SHOULD_BE_USE_WEB,isWorkletFunction:isWorkletFunction,runWorkletOnJS:runWorkletOnJS,makeShareableCloneOnUIRecursive:makeShareableCloneOnUIRecursive};_runOnJS.__workletHash=2184637262464;_runOnJS.__initData=_worklet_2184637262464_init_data;return _runOnJS;}();","map":{"version":3,"names":["_toConsumableArray","_slicedToArray","isWorkletFunction","ReanimatedError","isJest","shouldBeUseWeb","ReanimatedModule","makeShareableCloneOnUIRecursive","makeShareableCloneRecursive","IS_JEST","SHOULD_BE_USE_WEB","_runOnUIQueue","_worklet_12099126053083_init_data","code","setupMicrotasks","microtasksQueue","isExecutingMicrotasksQueue","global","queueMicrotask","callback","push","__callMicrotasks","index","length","_maybeFlushUIUpdatesQueue","__closure","__workletHash","__initData","_worklet_6162042684295_init_data","callMicrotasksOnUIThread","callMicrotasks","_worklet_11502088742429_init_data","_worklet_9086703493462_init_data","_worklet_5843954769346_init_data","runOnUI","worklet","_WORKLET","_len","arguments","args","Array","_key","scheduleOnUI","threadsJs4","apply","queue","threadsJs5","forEach","_ref","_ref2","__DEV__","_worklet_10638804238608_init_data","executeOnUIRuntimeSync","_len2","_key2","threadsJs6","result","_worklet_10692732931423_init_data","_worklet_1655652225370_init_data","runOnUIImmediately","_len3","_key3","threadsJs8","runWorkletOnJS","_len4","_key4","_worklet_2184637262464_init_data","runOnJS","_runOnJS","fun","_len5","_key5","_len6","_key6","concat","__remoteFunction","scheduleOnJS","_scheduleHostFunctionOnJS","_scheduleRemoteFunctionOnJS","_len7","_key7","undefined"],"sources":["C:\\Users\\Jorn\\Documents\\hitster\\node_modules\\react-native-reanimated\\src\\threads.ts"],"sourcesContent":["'use strict';\nimport type { WorkletFunction } from './commonTypes';\nimport { isWorkletFunction } from './commonTypes';\nimport { ReanimatedError } from './errors';\nimport { isJest, shouldBeUseWeb } from './PlatformChecker';\nimport { ReanimatedModule } from './ReanimatedModule';\nimport {\n  makeShareableCloneOnUIRecursive,\n  makeShareableCloneRecursive,\n} from './shareables';\n\nconst IS_JEST = isJest();\nconst SHOULD_BE_USE_WEB = shouldBeUseWeb();\n\n/** An array of [worklet, args] pairs. */\nlet _runOnUIQueue: Array<[WorkletFunction<unknown[], unknown>, unknown[]]> = [];\n\nexport function setupMicrotasks() {\n  'worklet';\n\n  let microtasksQueue: Array<() => void> = [];\n  let isExecutingMicrotasksQueue = false;\n  global.queueMicrotask = (callback: () => void) => {\n    microtasksQueue.push(callback);\n  };\n\n  global.__callMicrotasks = () => {\n    if (isExecutingMicrotasksQueue) {\n      return;\n    }\n    try {\n      isExecutingMicrotasksQueue = true;\n      for (let index = 0; index < microtasksQueue.length; index += 1) {\n        // we use classic 'for' loop because the size of the currentTasks array may change while executing some of the callbacks due to queueMicrotask calls\n        microtasksQueue[index]();\n      }\n      microtasksQueue = [];\n      global._maybeFlushUIUpdatesQueue();\n    } finally {\n      isExecutingMicrotasksQueue = false;\n    }\n  };\n}\n\nfunction callMicrotasksOnUIThread() {\n  'worklet';\n  global.__callMicrotasks();\n}\n\nexport const callMicrotasks = SHOULD_BE_USE_WEB\n  ? () => {\n      // on web flushing is a noop as immediates are handled by the browser\n    }\n  : callMicrotasksOnUIThread;\n\n/**\n * Lets you asynchronously run\n * [workletized](https://docs.swmansion.com/react-native-reanimated/docs/fundamentals/glossary#to-workletize)\n * functions on the [UI\n * thread](https://docs.swmansion.com/react-native-reanimated/docs/threading/runOnUI).\n *\n * This method does not schedule the work immediately but instead waits for\n * other worklets to be scheduled within the same JS loop. It uses\n * queueMicrotask to schedule all the worklets at once making sure they will run\n * within the same frame boundaries on the UI thread.\n *\n * @param fun - A reference to a function you want to execute on the [UI\n *   thread](https://docs.swmansion.com/react-native-reanimated/docs/threading/runOnUI)\n *   from the [JavaScript\n *   thread](https://docs.swmansion.com/react-native-reanimated/docs/threading/runOnUI).\n * @returns A function that accepts arguments for the function passed as the\n *   first argument.\n * @see https://docs.swmansion.com/react-native-reanimated/docs/threading/runOnUI\n */\n// @ts-expect-error This overload is correct since it's what user sees in his code\n// before it's transformed by Reanimated Babel plugin.\nexport function runOnUI<Args extends unknown[], ReturnValue>(\n  worklet: (...args: Args) => ReturnValue\n): (...args: Args) => void;\n\nexport function runOnUI<Args extends unknown[], ReturnValue>(\n  worklet: WorkletFunction<Args, ReturnValue>\n): (...args: Args) => void {\n  'worklet';\n  if (__DEV__ && !SHOULD_BE_USE_WEB && _WORKLET) {\n    throw new ReanimatedError(\n      '`runOnUI` cannot be called on the UI runtime. Please call the function synchronously or use `queueMicrotask` or `requestAnimationFrame` instead.'\n    );\n  }\n  if (__DEV__ && !SHOULD_BE_USE_WEB && !isWorkletFunction(worklet)) {\n    throw new ReanimatedError('`runOnUI` can only be used with worklets.');\n  }\n  return (...args) => {\n    if (IS_JEST) {\n      // Mocking time in Jest is tricky as both requestAnimationFrame and queueMicrotask\n      // callbacks run on the same queue and can be interleaved. There is no way\n      // to flush particular queue in Jest and the only control over mocked timers\n      // is by using jest.advanceTimersByTime() method which advances all types\n      // of timers including immediate and animation callbacks. Ideally we'd like\n      // to have some way here to schedule work along with React updates, but\n      // that's not possible, and hence in Jest environment instead of using scheduling\n      // mechanism we just schedule the work ommiting the queue. This is ok for the\n      // uses that we currently have but may not be ok for future tests that we write.\n      ReanimatedModule.scheduleOnUI(\n        makeShareableCloneRecursive(() => {\n          'worklet';\n          worklet(...args);\n        })\n      );\n      return;\n    }\n    if (__DEV__) {\n      // in DEV mode we call shareable conversion here because in case the object\n      // can't be converted, we will get a meaningful stack-trace as opposed to the\n      // situation when conversion is only done via microtask queue. This does not\n      // make the app particularily less efficient as converted objects are cached\n      // and for a given worklet the conversion only happens once.\n      makeShareableCloneRecursive(worklet);\n      makeShareableCloneRecursive(args);\n    }\n    _runOnUIQueue.push([worklet as WorkletFunction, args]);\n    if (_runOnUIQueue.length === 1) {\n      queueMicrotask(() => {\n        const queue = _runOnUIQueue;\n        _runOnUIQueue = [];\n        ReanimatedModule.scheduleOnUI(\n          makeShareableCloneRecursive(() => {\n            'worklet';\n            // eslint-disable-next-line @typescript-eslint/no-shadow\n            queue.forEach(([worklet, args]) => {\n              worklet(...args);\n            });\n            callMicrotasks();\n          })\n        );\n      });\n    }\n  };\n}\n\n// @ts-expect-error Check `executeOnUIRuntimeSync` overload above.\nexport function executeOnUIRuntimeSync<Args extends unknown[], ReturnValue>(\n  worklet: (...args: Args) => ReturnValue\n): (...args: Args) => ReturnValue;\n\nexport function executeOnUIRuntimeSync<Args extends unknown[], ReturnValue>(\n  worklet: WorkletFunction<Args, ReturnValue>\n): (...args: Args) => ReturnValue {\n  return (...args) => {\n    return ReanimatedModule.executeOnUIRuntimeSync(\n      makeShareableCloneRecursive(() => {\n        'worklet';\n        const result = worklet(...args);\n        return makeShareableCloneOnUIRecursive(result);\n      })\n    );\n  };\n}\n\n// @ts-expect-error Check `runOnUI` overload above.\nexport function runOnUIImmediately<Args extends unknown[], ReturnValue>(\n  worklet: (...args: Args) => ReturnValue\n): WorkletFunction<Args, ReturnValue>;\n/** Schedule a worklet to execute on the UI runtime skipping batching mechanism. */\nexport function runOnUIImmediately<Args extends unknown[], ReturnValue>(\n  worklet: WorkletFunction<Args, ReturnValue>\n): (...args: Args) => void {\n  'worklet';\n  if (__DEV__ && !SHOULD_BE_USE_WEB && _WORKLET) {\n    throw new ReanimatedError(\n      '`runOnUIImmediately` cannot be called on the UI runtime. Please call the function synchronously or use `queueMicrotask` or `requestAnimationFrame` instead.'\n    );\n  }\n  if (__DEV__ && !SHOULD_BE_USE_WEB && !isWorkletFunction(worklet)) {\n    throw new ReanimatedError(\n      '`runOnUIImmediately` can only be used with worklets.'\n    );\n  }\n  return (...args) => {\n    ReanimatedModule.scheduleOnUI(\n      makeShareableCloneRecursive(() => {\n        'worklet';\n        worklet(...args);\n      })\n    );\n  };\n}\n\ntype ReleaseRemoteFunction<Args extends unknown[], ReturnValue> = {\n  (...args: Args): ReturnValue;\n};\n\ntype DevRemoteFunction<Args extends unknown[], ReturnValue> = {\n  __remoteFunction: (...args: Args) => ReturnValue;\n};\n\ntype RemoteFunction<Args extends unknown[], ReturnValue> =\n  | ReleaseRemoteFunction<Args, ReturnValue>\n  | DevRemoteFunction<Args, ReturnValue>;\n\nfunction runWorkletOnJS<Args extends unknown[], ReturnValue>(\n  worklet: WorkletFunction<Args, ReturnValue>,\n  ...args: Args\n): void {\n  // remote function that calls a worklet synchronously on the JS runtime\n  worklet(...args);\n}\n\n/**\n * Lets you asynchronously run\n * non-[workletized](https://docs.swmansion.com/react-native-reanimated/docs/fundamentals/glossary#to-workletize)\n * functions that couldn't otherwise run on the [UI\n * thread](https://docs.swmansion.com/react-native-reanimated/docs/fundamentals/glossary#ui-thread).\n * This applies to most external libraries as they don't have their functions\n * marked with \"worklet\"; directive.\n *\n * @param fun - A reference to a function you want to execute on the JavaScript\n *   thread from the UI thread.\n * @returns A function that accepts arguments for the function passed as the\n *   first argument.\n * @see https://docs.swmansion.com/react-native-reanimated/docs/threading/runOnJS\n */\nexport function runOnJS<Args extends unknown[], ReturnValue>(\n  fun:\n    | ((...args: Args) => ReturnValue)\n    | RemoteFunction<Args, ReturnValue>\n    | WorkletFunction<Args, ReturnValue>\n): (...args: Args) => void {\n  'worklet';\n  type FunDevRemote = Extract<typeof fun, DevRemoteFunction<Args, ReturnValue>>;\n  if (SHOULD_BE_USE_WEB || !_WORKLET) {\n    // if we are already on the JS thread, we just schedule the worklet on the JS queue\n    return (...args) =>\n      queueMicrotask(\n        args.length\n          ? () => (fun as (...args: Args) => ReturnValue)(...args)\n          : (fun as () => ReturnValue)\n      );\n  }\n  if (isWorkletFunction<Args, ReturnValue>(fun)) {\n    // If `fun` is a worklet, we schedule a call of a remote function `runWorkletOnJS`\n    // and pass the worklet as a first argument followed by original arguments.\n\n    return (...args) =>\n      runOnJS(runWorkletOnJS<Args, ReturnValue>)(\n        fun as WorkletFunction<Args, ReturnValue>,\n        ...args\n      );\n  }\n  if ((fun as FunDevRemote).__remoteFunction) {\n    // In development mode the function provided as `fun` throws an error message\n    // such that when someone accidentally calls it directly on the UI runtime, they\n    // see that they should use `runOnJS` instead. To facilitate that we put the\n    // reference to the original remote function in the `__remoteFunction` property.\n    fun = (fun as FunDevRemote).__remoteFunction;\n  }\n\n  const scheduleOnJS =\n    typeof fun === 'function'\n      ? global._scheduleHostFunctionOnJS\n      : global._scheduleRemoteFunctionOnJS;\n\n  return (...args) => {\n    scheduleOnJS(\n      fun as\n        | ((...args: Args) => ReturnValue)\n        | WorkletFunction<Args, ReturnValue>,\n      args.length > 0\n        ? // TODO TYPESCRIPT this cast is terrible but will be fixed\n          (makeShareableCloneOnUIRecursive(args) as unknown as unknown[])\n        : undefined\n    );\n  };\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}