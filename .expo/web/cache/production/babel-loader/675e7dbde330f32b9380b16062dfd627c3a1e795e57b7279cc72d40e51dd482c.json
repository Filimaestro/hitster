{"ast":null,"code":"'use strict';import{useEffect,useRef}from'react';import{KeyboardState}from\"../commonTypes.js\";import{makeMutable,subscribeForKeyboardEvents,unsubscribeFromKeyboardEvents}from\"../core.js\";var _worklet_8683751042098_init_data={code:\"function useAnimatedKeyboardJs1(state,height){const{keyboardEventData}=this.__closure;keyboardEventData.state.value=state;keyboardEventData.height.value=height;}\"};var _worklet_14652405603758_init_data={code:\"function useAnimatedKeyboardJs2(state,height){const{_keyboardEventData}=this.__closure;_keyboardEventData.state.value=state;_keyboardEventData.height.value=height;}\"};export function useAnimatedKeyboard(){var options=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{isStatusBarTranslucentAndroid:undefined,isNavigationBarTranslucentAndroid:undefined};var ref=useRef(null);var listenerId=useRef(-1);var isSubscribed=useRef(false);if(ref.current===null){var keyboardEventData={state:makeMutable(KeyboardState.UNKNOWN),height:makeMutable(0)};listenerId.current=subscribeForKeyboardEvents(function(){var useAnimatedKeyboardJs1=function useAnimatedKeyboardJs1(state,height){keyboardEventData.state.value=state;keyboardEventData.height.value=height;};useAnimatedKeyboardJs1.__closure={keyboardEventData:keyboardEventData};useAnimatedKeyboardJs1.__workletHash=8683751042098;useAnimatedKeyboardJs1.__initData=_worklet_8683751042098_init_data;return useAnimatedKeyboardJs1;}(),options);ref.current=keyboardEventData;isSubscribed.current=true;}useEffect(function(){if(isSubscribed.current===false&&ref.current!==null){var _keyboardEventData=ref.current;listenerId.current=subscribeForKeyboardEvents(function(){var useAnimatedKeyboardJs2=function useAnimatedKeyboardJs2(state,height){_keyboardEventData.state.value=state;_keyboardEventData.height.value=height;};useAnimatedKeyboardJs2.__closure={_keyboardEventData:_keyboardEventData};useAnimatedKeyboardJs2.__workletHash=14652405603758;useAnimatedKeyboardJs2.__initData=_worklet_14652405603758_init_data;return useAnimatedKeyboardJs2;}(),options);isSubscribed.current=true;}return function(){unsubscribeFromKeyboardEvents(listenerId.current);isSubscribed.current=false;};},[]);return ref.current;}","map":{"version":3,"names":["useEffect","useRef","KeyboardState","makeMutable","subscribeForKeyboardEvents","unsubscribeFromKeyboardEvents","_worklet_8683751042098_init_data","code","_worklet_14652405603758_init_data","useAnimatedKeyboard","options","arguments","length","undefined","isStatusBarTranslucentAndroid","isNavigationBarTranslucentAndroid","ref","listenerId","isSubscribed","current","keyboardEventData","state","UNKNOWN","height","useAnimatedKeyboardJs1","value","__closure","__workletHash","__initData","useAnimatedKeyboardJs2","_keyboardEventData"],"sources":["C:\\Users\\Jorn\\Documents\\hitster\\node_modules\\react-native-reanimated\\src\\hook\\useAnimatedKeyboard.ts"],"sourcesContent":["'use strict';\nimport { useEffect, useRef } from 'react';\n\nimport type {\n  AnimatedKeyboardInfo,\n  AnimatedKeyboardOptions,\n} from '../commonTypes';\nimport { KeyboardState } from '../commonTypes';\nimport {\n  makeMutable,\n  subscribeForKeyboardEvents,\n  unsubscribeFromKeyboardEvents,\n} from '../core';\n\n/**\n * Lets you synchronously get the position and state of the keyboard.\n *\n * @param options - An additional keyboard configuration options.\n * @returns An object with the current keyboard `height` and `state` as [shared\n *   values](https://docs.swmansion.com/react-native-reanimated/docs/fundamentals/glossary#shared-value).\n * @see https://docs.swmansion.com/react-native-reanimated/docs/device/useAnimatedKeyboard\n */\nexport function useAnimatedKeyboard(\n  options: AnimatedKeyboardOptions = {\n    isStatusBarTranslucentAndroid: undefined,\n    isNavigationBarTranslucentAndroid: undefined,\n  }\n): AnimatedKeyboardInfo {\n  const ref = useRef<AnimatedKeyboardInfo | null>(null);\n  const listenerId = useRef<number>(-1);\n  const isSubscribed = useRef<boolean>(false);\n\n  if (ref.current === null) {\n    const keyboardEventData: AnimatedKeyboardInfo = {\n      state: makeMutable<KeyboardState>(KeyboardState.UNKNOWN),\n      height: makeMutable(0),\n    };\n    listenerId.current = subscribeForKeyboardEvents((state, height) => {\n      'worklet';\n      keyboardEventData.state.value = state;\n      keyboardEventData.height.value = height;\n    }, options);\n    ref.current = keyboardEventData;\n    isSubscribed.current = true;\n  }\n  useEffect(() => {\n    if (isSubscribed.current === false && ref.current !== null) {\n      const keyboardEventData = ref.current;\n      // subscribe again after Fast Refresh\n      listenerId.current = subscribeForKeyboardEvents((state, height) => {\n        'worklet';\n        keyboardEventData.state.value = state;\n        keyboardEventData.height.value = height;\n      }, options);\n      isSubscribed.current = true;\n    }\n    return () => {\n      unsubscribeFromKeyboardEvents(listenerId.current);\n      isSubscribed.current = false;\n    };\n  }, []);\n  return ref.current;\n}\n"],"mappings":"AAAA,YAAY,CACZ,OAASA,SAAS,CAAEC,MAAM,KAAQ,OAAO,CAMzC,OAASC,aAAa,KAAQ,mBAAgB,CAC9C,OACEC,WAAW,CACXC,0BAA0B,CAC1BC,6BAA6B,KACxB,YAAS,KAAAC,gCAAA,EAAAC,IAAA,0KAAAC,iCAAA,EAAAD,IAAA,yKAUhB,MAAO,SAAS,CAAAE,mBAAmBA,CAAA,CAKX,IAJtB,CAAAC,OAAgC,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,CACjCG,6BAA6B,CAAED,SAAS,CACxCE,iCAAiC,CAAEF,SACrC,CAAC,CAED,GAAM,CAAAG,GAAG,CAAGf,MAAM,CAA8B,IAAI,CAAC,CACrD,GAAM,CAAAgB,UAAU,CAAGhB,MAAM,CAAS,CAAC,CAAC,CAAC,CACrC,GAAM,CAAAiB,YAAY,CAAGjB,MAAM,CAAU,KAAK,CAAC,CAE3C,GAAIe,GAAG,CAACG,OAAO,GAAK,IAAI,CAAE,CACxB,GAAM,CAAAC,iBAAuC,CAAG,CAC9CC,KAAK,CAAElB,WAAW,CAAgBD,aAAa,CAACoB,OAAO,CAAC,CACxDC,MAAM,CAAEpB,WAAW,CAAC,CAAC,CACvB,CAAC,CACDc,UAAU,CAACE,OAAO,CAAGf,0BAA0B,CAAC,eAAAoB,sBAAA,UAAAA,uBAACH,KAAK,CAAEE,MAAM,CAAK,CAEjEH,iBAAiB,CAACC,KAAK,CAACI,KAAK,CAAGJ,KAAK,CACrCD,iBAAiB,CAACG,MAAM,CAACE,KAAK,CAAGF,MAAM,CACzC,CAAC,CAAAC,sBAAA,CAAAE,SAAA,EAAAN,iBAAA,CAFCA,iBAAiB,EAAAI,sBAAA,CAAAG,aAAA,eAAAH,sBAAA,CAAAI,UAAA,CAAAtB,gCAAA,QAAAkB,sBAAA,EAF6B,GAI7Cd,OAAO,CAAC,CACXM,GAAG,CAACG,OAAO,CAAGC,iBAAiB,CAC/BF,YAAY,CAACC,OAAO,CAAG,IAAI,CAC7B,CACAnB,SAAS,CAAC,UAAM,CACd,GAAIkB,YAAY,CAACC,OAAO,GAAK,KAAK,EAAIH,GAAG,CAACG,OAAO,GAAK,IAAI,CAAE,CAC1D,GAAM,CAAAC,kBAAiB,CAAGJ,GAAG,CAACG,OAAO,CAErCF,UAAU,CAACE,OAAO,CAAGf,0BAA0B,CAAC,eAAAyB,sBAAA,UAAAA,uBAACR,KAAK,CAAEE,MAAM,CAAK,CAEjEH,kBAAiB,CAACC,KAAK,CAACI,KAAK,CAAGJ,KAAK,CACrCD,kBAAiB,CAACG,MAAM,CAACE,KAAK,CAAGF,MAAM,CACzC,CAAC,CAAAM,sBAAA,CAAAH,SAAA,EAAAI,kBAAA,CAFCV,kBAAiB,EAAAS,sBAAA,CAAAF,aAAA,gBAAAE,sBAAA,CAAAD,UAAA,CAAApB,iCAAA,QAAAqB,sBAAA,EAF6B,GAI7CnB,OAAO,CAAC,CACXQ,YAAY,CAACC,OAAO,CAAG,IAAI,CAC7B,CACA,MAAO,WAAM,CACXd,6BAA6B,CAACY,UAAU,CAACE,OAAO,CAAC,CACjDD,YAAY,CAACC,OAAO,CAAG,KAAK,CAC9B,CAAC,CACH,CAAC,CAAE,EAAE,CAAC,CACN,MAAO,CAAAH,GAAG,CAACG,OAAO,CACpB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}