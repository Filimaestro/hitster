{"ast":null,"code":"import _defineProperty from\"@babel/runtime/helpers/defineProperty\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}import Platform from\"react-native-web/dist/exports/Platform\";import findNodeHandleRN from\"react-native-web/dist/exports/findNodeHandle\";import{handlerIDToTag}from'./handlersRegistry';import{toArray}from'../utils';import RNGestureHandlerModule from'../RNGestureHandlerModule';import{ghQueueMicrotask}from'../ghQueueMicrotask';function isConfigParam(param,name){return param!==undefined&&(param!==Object(param)||!('__isNative'in param))&&name!=='onHandlerStateChange'&&name!=='onGestureEvent';}export function filterConfig(props,validProps){var defaults=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var filteredConfig=_objectSpread({},defaults);for(var key of validProps){var value=props[key];if(isConfigParam(value,key)){if(key==='simultaneousHandlers'||key==='waitFor'){value=transformIntoHandlerTags(props[key]);}else if(key==='hitSlop'&&typeof value!=='object'){value={top:value,left:value,bottom:value,right:value};}filteredConfig[key]=value;}}return filteredConfig;}export function transformIntoHandlerTags(handlerIDs){handlerIDs=toArray(handlerIDs);if(\"web\"==='web'){return handlerIDs.map(function(_ref){var current=_ref.current;return current;}).filter(function(handle){return handle;});}return handlerIDs.map(function(handlerID){var _handlerID$current;return handlerIDToTag[handlerID]||((_handlerID$current=handlerID.current)===null||_handlerID$current===void 0?void 0:_handlerID$current.handlerTag)||-1;}).filter(function(handlerTag){return handlerTag>0;});}export function findNodeHandle(node){if(\"web\"==='web'){return node;}return findNodeHandleRN(node);}var flushOperationsScheduled=false;export function scheduleFlushOperations(){if(!flushOperationsScheduled){flushOperationsScheduled=true;ghQueueMicrotask(function(){RNGestureHandlerModule.flushOperations();flushOperationsScheduled=false;});}}","map":{"version":3,"names":["handlerIDToTag","toArray","RNGestureHandlerModule","ghQueueMicrotask","isConfigParam","param","name","undefined","Object","filterConfig","props","validProps","defaults","arguments","length","filteredConfig","_objectSpread","key","value","transformIntoHandlerTags","top","left","bottom","right","handlerIDs","map","_ref","current","filter","handle","handlerID","_handlerID$current","handlerTag","findNodeHandle","node","findNodeHandleRN","flushOperationsScheduled","scheduleFlushOperations","flushOperations"],"sources":["C:\\Users\\Jorn\\Documents\\hitster\\node_modules\\react-native-gesture-handler\\lib\\module\\handlers\\utils.ts"],"sourcesContent":["import * as React from 'react';\nimport { Platform, findNodeHandle as findNodeHandleRN } from 'react-native';\nimport { handlerIDToTag } from './handlersRegistry';\nimport { toArray } from '../utils';\nimport RNGestureHandlerModule from '../RNGestureHandlerModule';\nimport { ghQueueMicrotask } from '../ghQueueMicrotask';\n\nfunction isConfigParam(param: unknown, name: string) {\n  // param !== Object(param) returns false if `param` is a function\n  // or an object and returns true if `param` is null\n  return (\n    param !== undefined &&\n    (param !== Object(param) ||\n      !('__isNative' in (param as Record<string, unknown>))) &&\n    name !== 'onHandlerStateChange' &&\n    name !== 'onGestureEvent'\n  );\n}\n\nexport function filterConfig(\n  props: Record<string, unknown>,\n  validProps: string[],\n  defaults: Record<string, unknown> = {}\n) {\n  const filteredConfig = { ...defaults };\n  for (const key of validProps) {\n    let value = props[key];\n    if (isConfigParam(value, key)) {\n      if (key === 'simultaneousHandlers' || key === 'waitFor') {\n        value = transformIntoHandlerTags(props[key]);\n      } else if (key === 'hitSlop' && typeof value !== 'object') {\n        value = { top: value, left: value, bottom: value, right: value };\n      }\n      filteredConfig[key] = value;\n    }\n  }\n  return filteredConfig;\n}\n\nexport function transformIntoHandlerTags(handlerIDs: any) {\n  handlerIDs = toArray(handlerIDs);\n\n  if (Platform.OS === 'web') {\n    return handlerIDs\n      .map(({ current }: { current: any }) => current)\n      .filter((handle: any) => handle);\n  }\n  // converts handler string IDs into their numeric tags\n  return handlerIDs\n    .map(\n      (handlerID: any) =>\n        handlerIDToTag[handlerID] || handlerID.current?.handlerTag || -1\n    )\n    .filter((handlerTag: number) => handlerTag > 0);\n}\n\nexport function findNodeHandle(\n  node: null | number | React.Component<any, any> | React.ComponentClass<any>\n): null | number | React.Component<any, any> | React.ComponentClass<any> {\n  if (Platform.OS === 'web') {\n    return node;\n  }\n  return findNodeHandleRN(node);\n}\nlet flushOperationsScheduled = false;\n\nexport function scheduleFlushOperations() {\n  if (!flushOperationsScheduled) {\n    flushOperationsScheduled = true;\n    ghQueueMicrotask(() => {\n      RNGestureHandlerModule.flushOperations();\n\n      flushOperationsScheduled = false;\n    });\n  }\n}\n"],"mappings":"uzBAEA,OAASA,cAAT,KAA+B,oBAA/B,CACA,OAASC,OAAT,KAAwB,UAAxB,CACA,MAAO,CAAAC,sBAAP,KAAmC,2BAAnC,CACA,OAASC,gBAAT,KAAiC,qBAAjC,CAEA,QAAS,CAAAC,aAATA,CAAuBC,KAAvB,CAAuCC,IAAvC,CAAqD,CAGnD,MACE,CAAAD,KAAK,GAAKE,SAAV,GACCF,KAAK,GAAKG,MAAM,CAACH,KAAD,CAAhB,EACC,EAAE,cAAiB,CAAAA,KAAnB,CAFF,GAGAC,IAAI,GAAK,sBAHT,EAIAA,IAAI,GAAK,gBALX,CAOD,CAED,MAAO,SAAS,CAAAG,YAATA,CACLC,KADK,CAELC,UAFK,CAIL,IADA,CAAAC,QAAiC,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAN,SAAA,CAAAM,SAAA,IAAG,EAH/B,CAKL,GAAM,CAAAE,cAAc,CAAAC,aAAA,IAAQJ,QAAA,CAA5B,CACA,IAAK,GAAM,CAAAK,GAAX,GAAkB,CAAAN,UAAlB,CAA8B,CAC5B,GAAI,CAAAO,KAAK,CAAGR,KAAK,CAACO,GAAD,CAAjB,CACA,GAAIb,aAAa,CAACc,KAAD,CAAQD,GAAR,CAAjB,CAA+B,CAC7B,GAAIA,GAAG,GAAK,sBAAR,EAAkCA,GAAG,GAAK,SAA9C,CAAyD,CACvDC,KAAK,CAAGC,wBAAwB,CAACT,KAAK,CAACO,GAAD,CAAN,CAAhC,CACD,CAFD,IAEO,IAAIA,GAAG,GAAK,SAAR,EAAqB,MAAO,CAAAC,KAAP,GAAiB,QAA1C,CAAoD,CACzDA,KAAK,CAAG,CAAEE,GAAG,CAAEF,KAAP,CAAcG,IAAI,CAAEH,KAApB,CAA2BI,MAAM,CAAEJ,KAAnC,CAA0CK,KAAK,CAAEL,KAAjD,CAAR,CACD,CACDH,cAAc,CAACE,GAAD,CAAd,CAAsBC,KAAtB,CACD,CACF,CACD,MAAO,CAAAH,cAAP,CACD,CAED,MAAO,SAAS,CAAAI,wBAATA,CAAkCK,UAAlC,CAAmD,CACxDA,UAAU,CAAGvB,OAAO,CAACuB,UAAD,CAApB,CAEA,GAAI,QAAgB,KAApB,CAA2B,CACzB,MAAO,CAAAA,UAAU,CACdC,GADI,CACA,SAAAC,IAAA,KAAG,CAAAC,OAAA,CAAAD,IAAA,CAAAC,OAAA,OAAgC,CAAAA,OADnC,IAEJC,MAFI,CAEI,SAAAC,MAAD,QAAiB,CAAAA,MAFpB,GAAP,CAGD,CAED,MAAO,CAAAL,UAAU,CACdC,GADI,CAEF,SAAAK,SAAD,MAAAC,kBAAA,OACE,CAAA/B,cAAc,CAAC8B,SAAD,CAAd,IAAAC,kBAAA,CAA6BD,SAAS,CAACH,OAAvC,UAAAI,kBAAA,iBAA6BA,kBAAA,CAAmBC,UAAhD,GAA8D,CAAC,CADjE,EAFG,EAKJJ,MALI,CAKI,SAAAI,UAAD,QAAwB,CAAAA,UAAU,CAAG,CALxC,GAAP,CAMD,CAED,MAAO,SAAS,CAAAC,cAATA,CACLC,IADK,CAEkE,CACvE,GAAI,QAAgB,KAApB,CAA2B,CACzB,MAAO,CAAAA,IAAP,CACD,CACD,MAAO,CAAAC,gBAAgB,CAACD,IAAD,CAAvB,CACD,CACD,GAAI,CAAAE,wBAAwB,CAAG,KAA/B,CAEA,MAAO,SAAS,CAAAC,uBAATA,CAAA,CAAmC,CACxC,GAAI,CAACD,wBAAL,CAA+B,CAC7BA,wBAAwB,CAAG,IAA3B,CACAjC,gBAAgB,CAAC,UAAM,CACrBD,sBAAsB,CAACoC,eAAvB,GAEAF,wBAAwB,CAAG,KAA3B,CACD,CAJe,CAAhB,CAKD,CACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}