{"ast":null,"code":"'use strict';import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";import _inherits from\"@babel/runtime/helpers/inherits\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}function _callSuper(t,o,e){return o=_getPrototypeOf(o),_possibleConstructorReturn(t,_isNativeReflectConstruct()?Reflect.construct(o,e||[],_getPrototypeOf(t).constructor):o.apply(t,e));}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t;})();}function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r]);}return n;},_extends.apply(null,arguments);}import\"../layoutReanimation/animationsManager.js\";import invariant from'invariant';import React from'react';import Platform from\"react-native-web/dist/exports/Platform\";import{getReduceMotionFromConfig}from\"../animation/util.js\";import{maybeBuild}from\"../animationBuilder.js\";import{LayoutAnimationType}from\"../commonTypes.js\";import{SkipEnteringContext}from\"../component/LayoutAnimationConfig.js\";import{adaptViewConfig}from\"../ConfigHelper.js\";import{enableLayoutAnimations}from\"../core.js\";import{ReanimatedError}from\"../errors.js\";import{getShadowNodeWrapperFromRef}from'../fabricUtils';import{SharedTransition}from\"../layoutReanimation/index.js\";import{configureWebLayoutAnimations,getReducedMotionFromConfig,saveSnapshot,startWebLayoutAnimation,tryActivateLayoutTransition}from\"../layoutReanimation/web/index.js\";import{addHTMLMutationObserver}from\"../layoutReanimation/web/domUtils.js\";import{findHostInstance}from'../platform-specific/findHostInstance';import{isFabric,isJest,isReact19,isWeb,shouldBeUseWeb}from\"../PlatformChecker.js\";import{removeFromPropsRegistry}from\"../PropsRegistry.js\";import{componentWithRef}from\"../reactUtils.js\";import{updateLayoutAnimations}from\"../UpdateLayoutAnimations.js\";import{getViewInfo}from\"./getViewInfo.js\";import{InlinePropManager}from\"./InlinePropManager.js\";import JSPropsUpdater from'./JSPropsUpdater';import{NativeEventsManager}from\"./NativeEventsManager.js\";import{PropsFilter}from\"./PropsFilter.js\";import setAndForwardRef from\"./setAndForwardRef.js\";import{flattenArray}from\"./utils.js\";var IS_WEB=isWeb();var IS_JEST=isJest();var IS_REACT_19=isReact19();var SHOULD_BE_USE_WEB=shouldBeUseWeb();if(IS_WEB){configureWebLayoutAnimations();}function onlyAnimatedStyles(styles){return styles.filter(function(style){return style==null?void 0:style.viewDescriptors;});}var id=0;export function createAnimatedComponent(Component,options){if(!IS_REACT_19){invariant(typeof Component!=='function'||Component.prototype&&Component.prototype.isReactComponent,`Looks like you're passing a function component \\`${Component.name}\\` to \\`createAnimatedComponent\\` function which supports only class components. Please wrap your function component with \\`React.forwardRef()\\` or use a class component instead.`);}var AnimatedComponent=function(_React$Component){function AnimatedComponent(props){var _this$context2,_this$props4;var _this;_classCallCheck(this,AnimatedComponent);_this=_callSuper(this,AnimatedComponent,[props]);_this._styles=null;_this._isFirstRender=true;_this.jestAnimatedStyle={value:{}};_this._componentRef=null;_this._hasAnimatedRef=false;_this._componentDOMRef=null;_this._sharedElementTransition=null;_this._jsPropsUpdater=new JSPropsUpdater();_this._InlinePropManager=new InlinePropManager();_this._PropsFilter=new PropsFilter();_this.reanimatedID=id++;_this._resolveComponentRef=function(ref){var componentRef=ref;if(componentRef&&componentRef.getAnimatableRef){_this._hasAnimatedRef=true;return componentRef.getAnimatableRef();}if(SHOULD_BE_USE_WEB){if(componentRef&&componentRef.elementRef){_this._componentDOMRef=componentRef.elementRef.current;}else{_this._componentDOMRef=ref;}}return componentRef;};_this._setComponentRef=setAndForwardRef({getForwardedRef:function getForwardedRef(){return _this.props.forwardedRef;},setLocalRef:function setLocalRef(ref){if(!ref){return;}if(ref!==_this._componentRef){_this._componentRef=_this._resolveComponentRef(ref);_this._viewInfo=undefined;}var tag=_this.getComponentViewTag();var _this$props=_this.props,layout=_this$props.layout,entering=_this$props.entering,exiting=_this$props.exiting,sharedTransitionTag=_this$props.sharedTransitionTag;if(layout||entering||exiting||sharedTransitionTag){var _this$context;if(!SHOULD_BE_USE_WEB){enableLayoutAnimations(true,false);}if(sharedTransitionTag){_this._configureSharedTransition();}if(exiting&&isFabric()){var reduceMotionInExiting='getReduceMotion'in exiting&&typeof exiting.getReduceMotion==='function'?getReduceMotionFromConfig(exiting.getReduceMotion()):getReduceMotionFromConfig();if(!reduceMotionInExiting){var _this$props2;updateLayoutAnimations(tag,LayoutAnimationType.EXITING,maybeBuild(exiting,(_this$props2=_this.props)==null?void 0:_this$props2.style,AnimatedComponent.displayName));}}var skipEntering=(_this$context=_this.context)==null?void 0:_this$context.current;if(entering&&!isFabric()&&!skipEntering&&!IS_WEB){var _this$props3;updateLayoutAnimations(tag,LayoutAnimationType.ENTERING,maybeBuild(entering,(_this$props3=_this.props)==null?void 0:_this$props3.style,AnimatedComponent.displayName));}}}});if(IS_JEST){_this.jestAnimatedStyle={value:{}};}var _entering=_this.props.entering;var _skipEntering=(_this$context2=_this.context)==null?void 0:_this$context2.current;if(!_entering||getReducedMotionFromConfig(_entering)||_skipEntering||!isFabric()){return _possibleConstructorReturn(_this);}updateLayoutAnimations(_this.reanimatedID,LayoutAnimationType.ENTERING,maybeBuild(_entering,(_this$props4=_this.props)==null?void 0:_this$props4.style,AnimatedComponent.displayName));return _this;}_inherits(AnimatedComponent,_React$Component);return _createClass(AnimatedComponent,[{key:\"componentDidMount\",value:function componentDidMount(){var _this$_NativeEventsMa;if(!IS_WEB){this._NativeEventsManager=new NativeEventsManager(this,options);}(_this$_NativeEventsMa=this._NativeEventsManager)==null?void 0:_this$_NativeEventsMa.attachEvents();this._jsPropsUpdater.addOnJSPropsChangeListener(this);this._attachAnimatedStyles();this._InlinePropManager.attachInlineProps(this,this._getViewInfo());var layout=this.props.layout;if(layout){this._configureLayoutTransition();}if(IS_WEB){var _this$context3;if(this.props.exiting&&this._componentDOMRef){saveSnapshot(this._componentDOMRef);}if(!this.props.entering||getReducedMotionFromConfig(this.props.entering)){this._isFirstRender=false;return;}var skipEntering=(_this$context3=this.context)==null?void 0:_this$context3.current;if(!skipEntering){startWebLayoutAnimation(this.props,this._componentDOMRef,LayoutAnimationType.ENTERING);}else if(this._componentDOMRef){this._componentDOMRef.style.visibility='initial';}}this._isFirstRender=false;}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){var _this$_NativeEventsMa2,_this$_sharedElementT;(_this$_NativeEventsMa2=this._NativeEventsManager)==null?void 0:_this$_NativeEventsMa2.detachEvents();this._jsPropsUpdater.removeOnJSPropsChangeListener(this);this._detachStyles();this._InlinePropManager.detachInlineProps();if(this.props.sharedTransitionTag){this._configureSharedTransition(true);}(_this$_sharedElementT=this._sharedElementTransition)==null?void 0:_this$_sharedElementT.unregisterTransition(this.getComponentViewTag(),true);var exiting=this.props.exiting;if(IS_WEB&&this._componentDOMRef&&exiting&&!getReducedMotionFromConfig(exiting)){addHTMLMutationObserver();startWebLayoutAnimation(this.props,this._componentDOMRef,LayoutAnimationType.EXITING);}else if(exiting&&!IS_WEB&&!isFabric()){var reduceMotionInExiting='getReduceMotion'in exiting&&typeof exiting.getReduceMotion==='function'?getReduceMotionFromConfig(exiting.getReduceMotion()):getReduceMotionFromConfig();if(!reduceMotionInExiting){var _this$props5;updateLayoutAnimations(this.getComponentViewTag(),LayoutAnimationType.EXITING,maybeBuild(exiting,(_this$props5=this.props)==null?void 0:_this$props5.style,AnimatedComponent.displayName));}}}},{key:\"getComponentViewTag\",value:function getComponentViewTag(){return this._getViewInfo().viewTag;}},{key:\"hasAnimatedRef\",value:function hasAnimatedRef(){return this._hasAnimatedRef;}},{key:\"_detachStyles\",value:function _detachStyles(){var viewTag=this.getComponentViewTag();if(viewTag!==-1&&this._styles!==null){var _this$props$animatedP;for(var style of this._styles){style.viewDescriptors.remove(viewTag);}if((_this$props$animatedP=this.props.animatedProps)!=null&&_this$props$animatedP.viewDescriptors){this.props.animatedProps.viewDescriptors.remove(viewTag);}if(isFabric()){removeFromPropsRegistry(viewTag);}}}},{key:\"_updateFromNative\",value:function _updateFromNative(props){if(options!=null&&options.setNativeProps){options.setNativeProps(this._componentRef,props);}else{var _this$_componentRef;(_this$_componentRef=this._componentRef)==null?void 0:_this$_componentRef.setNativeProps==null?void 0:_this$_componentRef.setNativeProps(props);}}},{key:\"_getViewInfo\",value:function _getViewInfo(){if(this._viewInfo!==undefined){return this._viewInfo;}var viewTag;var viewName;var shadowNodeWrapper=null;var viewConfig;var DOMElement=null;if(SHOULD_BE_USE_WEB){viewTag=this._componentRef;DOMElement=this._componentDOMRef;viewName=null;shadowNodeWrapper=null;viewConfig=null;}else{var hostInstance=findHostInstance(this);if(!hostInstance){throw new ReanimatedError('Cannot find host instance for this component. Maybe it renders nothing?');}var viewInfo=getViewInfo(hostInstance);viewTag=viewInfo.viewTag;viewName=viewInfo.viewName;viewConfig=viewInfo.viewConfig;shadowNodeWrapper=isFabric()?getShadowNodeWrapperFromRef(this,hostInstance):null;}this._viewInfo={viewTag:viewTag,viewName:viewName,shadowNodeWrapper:shadowNodeWrapper,viewConfig:viewConfig};if(DOMElement){this._viewInfo.DOMElement=DOMElement;}return this._viewInfo;}},{key:\"_attachAnimatedStyles\",value:function _attachAnimatedStyles(){var _this$props$animatedP2,_this2=this,_this$props$animatedP3;var styles=this.props.style?onlyAnimatedStyles(flattenArray(this.props.style)):[];var prevStyles=this._styles;this._styles=styles;var prevAnimatedProps=this._animatedProps;this._animatedProps=this.props.animatedProps;var _this$_getViewInfo=this._getViewInfo(),viewTag=_this$_getViewInfo.viewTag,viewName=_this$_getViewInfo.viewName,shadowNodeWrapper=_this$_getViewInfo.shadowNodeWrapper,viewConfig=_this$_getViewInfo.viewConfig;var hasReanimated2Props=((_this$props$animatedP2=this.props.animatedProps)==null?void 0:_this$props$animatedP2.viewDescriptors)||styles.length;if(hasReanimated2Props&&viewConfig){adaptViewConfig(viewConfig);}if(prevStyles){var hasOneSameStyle=styles.length===1&&prevStyles.length===1&&styles[0]===prevStyles[0];if(!hasOneSameStyle){var _loop=function _loop(prevStyle){var isPresent=styles.some(function(style){return style===prevStyle;});if(!isPresent){prevStyle.viewDescriptors.remove(viewTag);}};for(var prevStyle of prevStyles){_loop(prevStyle);}}}styles.forEach(function(style){style.viewDescriptors.add({tag:viewTag,name:viewName,shadowNodeWrapper:shadowNodeWrapper});if(IS_JEST){_this2.jestAnimatedStyle.value=_objectSpread(_objectSpread({},_this2.jestAnimatedStyle.value),style.initial.value);style.jestAnimatedStyle.current=_this2.jestAnimatedStyle;}});if(prevAnimatedProps&&prevAnimatedProps!==this.props.animatedProps){prevAnimatedProps.viewDescriptors.remove(viewTag);}if((_this$props$animatedP3=this.props.animatedProps)!=null&&_this$props$animatedP3.viewDescriptors){this.props.animatedProps.viewDescriptors.add({tag:viewTag,name:viewName,shadowNodeWrapper:shadowNodeWrapper});}}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,_prevState,snapshot){var _this$_NativeEventsMa3;var layout=this.props.layout;var oldLayout=prevProps.layout;if(layout!==oldLayout){this._configureLayoutTransition();}if(this.props.sharedTransitionTag!==undefined||prevProps.sharedTransitionTag!==undefined){this._configureSharedTransition();}(_this$_NativeEventsMa3=this._NativeEventsManager)==null?void 0:_this$_NativeEventsMa3.updateEvents(prevProps);this._attachAnimatedStyles();this._InlinePropManager.attachInlineProps(this,this._getViewInfo());if(IS_WEB&&this.props.exiting&&this._componentDOMRef){saveSnapshot(this._componentDOMRef);}if(IS_WEB&&snapshot!==null&&this.props.layout&&!getReducedMotionFromConfig(this.props.layout)){tryActivateLayoutTransition(this.props,this._componentDOMRef,snapshot);}}},{key:\"_configureLayoutTransition\",value:function _configureLayoutTransition(){if(IS_WEB){return;}var layout=this.props.layout;if(!layout||getReducedMotionFromConfig(layout)){return;}updateLayoutAnimations(this.getComponentViewTag(),LayoutAnimationType.LAYOUT,maybeBuild(layout,undefined,AnimatedComponent.displayName));}},{key:\"_configureSharedTransition\",value:function _configureSharedTransition(){var _ref,_this$props$sharedTra;var isUnmounting=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(IS_WEB){return;}var sharedTransitionTag=this.props.sharedTransitionTag;if(!sharedTransitionTag){var _this$_sharedElementT2;(_this$_sharedElementT2=this._sharedElementTransition)==null?void 0:_this$_sharedElementT2.unregisterTransition(this.getComponentViewTag(),isUnmounting);this._sharedElementTransition=null;return;}var sharedElementTransition=(_ref=(_this$props$sharedTra=this.props.sharedTransitionStyle)!=null?_this$props$sharedTra:this._sharedElementTransition)!=null?_ref:new SharedTransition();sharedElementTransition.registerTransition(this.getComponentViewTag(),sharedTransitionTag,isUnmounting);this._sharedElementTransition=sharedElementTransition;}},{key:\"getSnapshotBeforeUpdate\",value:function getSnapshotBeforeUpdate(){var _this$_componentDOMRe;if(IS_WEB&&((_this$_componentDOMRe=this._componentDOMRef)==null?void 0:_this$_componentDOMRe.getBoundingClientRect)!==undefined){return this._componentDOMRef.getBoundingClientRect();}return null;}},{key:\"render\",value:function render(){var _this$context4;var filteredProps=this._PropsFilter.filterNonAnimatedProps(this);if(IS_JEST){filteredProps.jestAnimatedStyle=this.jestAnimatedStyle;}if(this._isFirstRender&&IS_WEB&&filteredProps.entering&&!getReducedMotionFromConfig(filteredProps.entering)){var _filteredProps$style;filteredProps.style=_objectSpread(_objectSpread({},(_filteredProps$style=filteredProps.style)!=null?_filteredProps$style:{}),{},{visibility:'hidden'});}var platformProps={};var skipEntering=(_this$context4=this.context)==null?void 0:_this$context4.current;var nativeID=skipEntering||!isFabric()?undefined:`${this.reanimatedID}`;var jestProps=IS_JEST?{jestInlineStyle:this.props.style,jestAnimatedStyle:this.jestAnimatedStyle}:{};return React.createElement(Component,_extends({nativeID:nativeID},filteredProps,jestProps,{ref:this._setComponentRef},platformProps));}}]);}(React.Component);AnimatedComponent.contextType=SkipEnteringContext;AnimatedComponent.displayName=`AnimatedComponent(${Component.displayName||Component.name||'Component'})`;var animatedComponent=componentWithRef(function(props,ref){return React.createElement(AnimatedComponent,_extends({},props,ref===null?null:{forwardedRef:ref}));});animatedComponent.displayName=Component.displayName||Component.name||'Component';return animatedComponent;}","map":{"version":3,"names":["_defineProperty","_classCallCheck","_createClass","_possibleConstructorReturn","_getPrototypeOf","_inherits","ownKeys","e","r","t","Object","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","getOwnPropertyDescriptors","defineProperties","defineProperty","_callSuper","_isNativeReflectConstruct","Reflect","construct","constructor","Boolean","prototype","valueOf","call","_extends","assign","bind","n","hasOwnProperty","invariant","React","Platform","getReduceMotionFromConfig","maybeBuild","LayoutAnimationType","SkipEnteringContext","adaptViewConfig","enableLayoutAnimations","ReanimatedError","getShadowNodeWrapperFromRef","SharedTransition","configureWebLayoutAnimations","getReducedMotionFromConfig","saveSnapshot","startWebLayoutAnimation","tryActivateLayoutTransition","addHTMLMutationObserver","findHostInstance","isFabric","isJest","isReact19","isWeb","shouldBeUseWeb","removeFromPropsRegistry","componentWithRef","updateLayoutAnimations","getViewInfo","InlinePropManager","JSPropsUpdater","NativeEventsManager","PropsFilter","setAndForwardRef","flattenArray","IS_WEB","IS_JEST","IS_REACT_19","SHOULD_BE_USE_WEB","onlyAnimatedStyles","styles","style","viewDescriptors","id","createAnimatedComponent","Component","options","isReactComponent","name","AnimatedComponent","_React$Component","props","_this$context2","_this$props4","_this","_styles","_isFirstRender","jestAnimatedStyle","value","_componentRef","_hasAnimatedRef","_componentDOMRef","_sharedElementTransition","_jsPropsUpdater","_InlinePropManager","_PropsFilter","reanimatedID","_resolveComponentRef","ref","componentRef","getAnimatableRef","elementRef","current","_setComponentRef","getForwardedRef","forwardedRef","setLocalRef","_viewInfo","undefined","tag","getComponentViewTag","_this$props","layout","entering","exiting","sharedTransitionTag","_this$context","_configureSharedTransition","reduceMotionInExiting","getReduceMotion","_this$props2","EXITING","displayName","skipEntering","context","_this$props3","ENTERING","key","componentDidMount","_this$_NativeEventsMa","_NativeEventsManager","attachEvents","addOnJSPropsChangeListener","_attachAnimatedStyles","attachInlineProps","_getViewInfo","_configureLayoutTransition","_this$context3","visibility","componentWillUnmount","_this$_NativeEventsMa2","_this$_sharedElementT","detachEvents","removeOnJSPropsChangeListener","_detachStyles","detachInlineProps","unregisterTransition","_this$props5","viewTag","hasAnimatedRef","_this$props$animatedP","remove","animatedProps","_updateFromNative","setNativeProps","_this$_componentRef","viewName","shadowNodeWrapper","viewConfig","DOMElement","hostInstance","viewInfo","_this$props$animatedP2","_this2","_this$props$animatedP3","prevStyles","prevAnimatedProps","_animatedProps","_this$_getViewInfo","hasReanimated2Props","hasOneSameStyle","_loop","prevStyle","isPresent","some","add","initial","componentDidUpdate","prevProps","_prevState","snapshot","_this$_NativeEventsMa3","oldLayout","updateEvents","LAYOUT","_ref","_this$props$sharedTra","isUnmounting","_this$_sharedElementT2","sharedElementTransition","sharedTransitionStyle","registerTransition","getSnapshotBeforeUpdate","_this$_componentDOMRe","getBoundingClientRect","render","_this$context4","filteredProps","filterNonAnimatedProps","_filteredProps$style","platformProps","nativeID","jestProps","jestInlineStyle","createElement","contextType","animatedComponent"],"sources":["C:\\Users\\Jorn\\Documents\\hitster\\node_modules\\react-native-reanimated\\src\\createAnimatedComponent\\createAnimatedComponent.tsx"],"sourcesContent":["'use strict';\nimport '../layoutReanimation/animationsManager';\n\nimport invariant from 'invariant';\nimport type {\n  Component,\n  ComponentClass,\n  ComponentType,\n  FunctionComponent,\n  PropsWithoutRef,\n  Ref,\n  RefObject,\n} from 'react';\nimport React from 'react';\nimport type { FlatList, FlatListProps } from 'react-native';\nimport { Platform } from 'react-native';\n\nimport { getReduceMotionFromConfig } from '../animation/util';\nimport { maybeBuild } from '../animationBuilder';\nimport type { ShadowNodeWrapper, StyleProps } from '../commonTypes';\nimport { LayoutAnimationType } from '../commonTypes';\nimport { SkipEnteringContext } from '../component/LayoutAnimationConfig';\nimport { adaptViewConfig } from '../ConfigHelper';\nimport { enableLayoutAnimations } from '../core';\nimport { ReanimatedError } from '../errors';\nimport { getShadowNodeWrapperFromRef } from '../fabricUtils';\nimport type { AnimateProps } from '../helperTypes';\nimport { SharedTransition } from '../layoutReanimation';\nimport {\n  configureWebLayoutAnimations,\n  getReducedMotionFromConfig,\n  saveSnapshot,\n  startWebLayoutAnimation,\n  tryActivateLayoutTransition,\n} from '../layoutReanimation/web';\nimport type { CustomConfig } from '../layoutReanimation/web/config';\nimport { addHTMLMutationObserver } from '../layoutReanimation/web/domUtils';\nimport { findHostInstance } from '../platform-specific/findHostInstance';\nimport {\n  isFabric,\n  isJest,\n  isReact19,\n  isWeb,\n  shouldBeUseWeb,\n} from '../PlatformChecker';\nimport { removeFromPropsRegistry } from '../PropsRegistry';\nimport { componentWithRef } from '../reactUtils';\nimport type { ReanimatedHTMLElement } from '../ReanimatedModule/js-reanimated';\nimport { updateLayoutAnimations } from '../UpdateLayoutAnimations';\nimport type {\n  AnimatedComponentProps,\n  AnimatedComponentRef,\n  AnimatedProps,\n  IAnimatedComponentInternal,\n  INativeEventsManager,\n  InitialComponentProps,\n  NestedArray,\n  ViewInfo,\n} from './commonTypes';\nimport { getViewInfo } from './getViewInfo';\nimport { InlinePropManager } from './InlinePropManager';\nimport JSPropsUpdater from './JSPropsUpdater';\nimport { NativeEventsManager } from './NativeEventsManager';\nimport { PropsFilter } from './PropsFilter';\nimport setAndForwardRef from './setAndForwardRef';\nimport { flattenArray } from './utils';\n\nconst IS_WEB = isWeb();\nconst IS_JEST = isJest();\nconst IS_REACT_19 = isReact19();\nconst SHOULD_BE_USE_WEB = shouldBeUseWeb();\n\nif (IS_WEB) {\n  configureWebLayoutAnimations();\n}\n\nfunction onlyAnimatedStyles(styles: StyleProps[]): StyleProps[] {\n  return styles.filter((style) => style?.viewDescriptors);\n}\n\ntype Options<P> = {\n  setNativeProps: (ref: AnimatedComponentRef, props: P) => void;\n};\n\n/**\n * Lets you create an Animated version of any React Native component.\n *\n * @param component - The component you want to make animatable.\n * @returns A component that Reanimated is capable of animating.\n * @see https://docs.swmansion.com/react-native-reanimated/docs/core/createAnimatedComponent\n */\n\n// Don't change the order of overloads, since such a change breaks current behavior\nexport function createAnimatedComponent<P extends object>(\n  component: FunctionComponent<P>,\n  options?: Options<P>\n): FunctionComponent<AnimateProps<P>>;\n\nexport function createAnimatedComponent<P extends object>(\n  component: ComponentClass<P>,\n  options?: Options<P>\n): ComponentClass<AnimateProps<P>>;\n\nexport function createAnimatedComponent<P extends object>(\n  // Actually ComponentType<P = {}> = ComponentClass<P> | FunctionComponent<P> but we need this overload too\n  // since some external components (like FastImage) are typed just as ComponentType\n  component: ComponentType<P>,\n  options?: Options<P>\n): FunctionComponent<AnimateProps<P>> | ComponentClass<AnimateProps<P>>;\n\n/**\n * @deprecated Please use `Animated.FlatList` component instead of calling\n *   `Animated.createAnimatedComponent(FlatList)` manually.\n */\n// @ts-ignore This is required to create this overload, since type of createAnimatedComponent is incorrect and doesn't include typeof FlatList\nexport function createAnimatedComponent(\n  component: typeof FlatList<unknown>,\n  options?: Options<any>\n): ComponentClass<AnimateProps<FlatListProps<unknown>>>;\n\nlet id = 0;\n\nexport function createAnimatedComponent(\n  Component: ComponentType<InitialComponentProps>,\n  options?: Options<InitialComponentProps>\n): any {\n  if (!IS_REACT_19) {\n    invariant(\n      typeof Component !== 'function' ||\n        (Component.prototype && Component.prototype.isReactComponent),\n      `Looks like you're passing a function component \\`${Component.name}\\` to \\`createAnimatedComponent\\` function which supports only class components. Please wrap your function component with \\`React.forwardRef()\\` or use a class component instead.`\n    );\n  }\n\n  class AnimatedComponent\n    extends React.Component<AnimatedComponentProps<InitialComponentProps>>\n    implements IAnimatedComponentInternal\n  {\n    _styles: StyleProps[] | null = null;\n    _animatedProps?: Partial<AnimatedComponentProps<AnimatedProps>>;\n    _isFirstRender = true;\n    jestInlineStyle: NestedArray<StyleProps> | undefined;\n    jestAnimatedStyle: { value: StyleProps } = { value: {} };\n    _componentRef: AnimatedComponentRef | HTMLElement | null = null;\n    _hasAnimatedRef = false;\n    // Used only on web\n    _componentDOMRef: HTMLElement | null = null;\n    _sharedElementTransition: SharedTransition | null = null;\n    _jsPropsUpdater = new JSPropsUpdater();\n    _InlinePropManager = new InlinePropManager();\n    _PropsFilter = new PropsFilter();\n    _NativeEventsManager?: INativeEventsManager;\n    _viewInfo?: ViewInfo;\n    static displayName: string;\n    static contextType = SkipEnteringContext;\n    context!: React.ContextType<typeof SkipEnteringContext>;\n    reanimatedID = id++;\n\n    constructor(props: AnimatedComponentProps<InitialComponentProps>) {\n      super(props);\n      if (IS_JEST) {\n        this.jestAnimatedStyle = { value: {} };\n      }\n\n      const entering = this.props.entering;\n      const skipEntering = this.context?.current;\n      if (\n        !entering ||\n        getReducedMotionFromConfig(entering as CustomConfig) ||\n        skipEntering ||\n        !isFabric()\n      ) {\n        return;\n      }\n      // This call is responsible for configuring entering animations on Fabric.\n      updateLayoutAnimations(\n        this.reanimatedID,\n        LayoutAnimationType.ENTERING,\n        maybeBuild(entering, this.props?.style, AnimatedComponent.displayName)\n      );\n    }\n\n    componentDidMount() {\n      if (!IS_WEB) {\n        // It exists only on native platforms. We initialize it here because the ref to the animated component is available only post-mount\n        this._NativeEventsManager = new NativeEventsManager(this, options);\n      }\n      this._NativeEventsManager?.attachEvents();\n      this._jsPropsUpdater.addOnJSPropsChangeListener(this);\n      this._attachAnimatedStyles();\n      this._InlinePropManager.attachInlineProps(this, this._getViewInfo());\n\n      const layout = this.props.layout;\n      if (layout) {\n        this._configureLayoutTransition();\n      }\n\n      if (IS_WEB) {\n        if (this.props.exiting && this._componentDOMRef) {\n          saveSnapshot(this._componentDOMRef);\n        }\n\n        if (\n          !this.props.entering ||\n          getReducedMotionFromConfig(this.props.entering as CustomConfig)\n        ) {\n          this._isFirstRender = false;\n          return;\n        }\n\n        const skipEntering = this.context?.current;\n\n        if (!skipEntering) {\n          startWebLayoutAnimation(\n            this.props,\n            this._componentDOMRef as ReanimatedHTMLElement,\n            LayoutAnimationType.ENTERING\n          );\n        } else if (this._componentDOMRef) {\n          this._componentDOMRef.style.visibility = 'initial';\n        }\n      }\n\n      this._isFirstRender = false;\n    }\n\n    componentWillUnmount() {\n      this._NativeEventsManager?.detachEvents();\n      this._jsPropsUpdater.removeOnJSPropsChangeListener(this);\n      this._detachStyles();\n      this._InlinePropManager.detachInlineProps();\n      if (this.props.sharedTransitionTag) {\n        this._configureSharedTransition(true);\n      }\n      this._sharedElementTransition?.unregisterTransition(\n        this.getComponentViewTag(),\n        true\n      );\n\n      const exiting = this.props.exiting;\n\n      if (\n        IS_WEB &&\n        this._componentDOMRef &&\n        exiting &&\n        !getReducedMotionFromConfig(exiting as CustomConfig)\n      ) {\n        addHTMLMutationObserver();\n\n        startWebLayoutAnimation(\n          this.props,\n          this._componentDOMRef as ReanimatedHTMLElement,\n          LayoutAnimationType.EXITING\n        );\n      } else if (exiting && !IS_WEB && !isFabric()) {\n        const reduceMotionInExiting =\n          'getReduceMotion' in exiting &&\n          typeof exiting.getReduceMotion === 'function'\n            ? getReduceMotionFromConfig(exiting.getReduceMotion())\n            : getReduceMotionFromConfig();\n        if (!reduceMotionInExiting) {\n          updateLayoutAnimations(\n            this.getComponentViewTag(),\n            LayoutAnimationType.EXITING,\n            maybeBuild(\n              exiting,\n              this.props?.style,\n              AnimatedComponent.displayName\n            )\n          );\n        }\n      }\n    }\n\n    getComponentViewTag() {\n      return this._getViewInfo().viewTag as number;\n    }\n\n    hasAnimatedRef() {\n      return this._hasAnimatedRef;\n    }\n\n    _detachStyles() {\n      const viewTag = this.getComponentViewTag();\n      if (viewTag !== -1 && this._styles !== null) {\n        for (const style of this._styles) {\n          style.viewDescriptors.remove(viewTag);\n        }\n        if (this.props.animatedProps?.viewDescriptors) {\n          this.props.animatedProps.viewDescriptors.remove(viewTag);\n        }\n        if (isFabric()) {\n          removeFromPropsRegistry(viewTag);\n        }\n      }\n    }\n\n    _updateFromNative(props: StyleProps) {\n      if (options?.setNativeProps) {\n        options.setNativeProps(\n          this._componentRef as AnimatedComponentRef,\n          props\n        );\n      } else {\n        (this._componentRef as AnimatedComponentRef)?.setNativeProps?.(props);\n      }\n    }\n\n    _getViewInfo(): ViewInfo {\n      if (this._viewInfo !== undefined) {\n        return this._viewInfo;\n      }\n\n      let viewTag: number | typeof this._componentRef;\n      let viewName: string | null;\n      let shadowNodeWrapper: ShadowNodeWrapper | null = null;\n      let viewConfig;\n      let DOMElement: HTMLElement | null = null;\n\n      if (SHOULD_BE_USE_WEB) {\n        // At this point I assume that `_setComponentRef` was already called and `_component` is set.\n        // `this._component` on web represents HTMLElement of our component, that's why we use casting\n        viewTag = this._componentRef;\n        DOMElement = this._componentDOMRef;\n        viewName = null;\n        shadowNodeWrapper = null;\n        viewConfig = null;\n      } else {\n        const hostInstance = findHostInstance(this);\n        if (!hostInstance) {\n          /* \n            findHostInstance can return null for a component that doesn't render anything \n            (render function returns null). Example: \n            svg Stop: https://github.com/react-native-svg/react-native-svg/blob/develop/src/elements/Stop.tsx\n          */\n          throw new ReanimatedError(\n            'Cannot find host instance for this component. Maybe it renders nothing?'\n          );\n        }\n\n        const viewInfo = getViewInfo(hostInstance);\n        viewTag = viewInfo.viewTag;\n        viewName = viewInfo.viewName;\n        viewConfig = viewInfo.viewConfig;\n        shadowNodeWrapper = isFabric()\n          ? getShadowNodeWrapperFromRef(this, hostInstance)\n          : null;\n      }\n      this._viewInfo = { viewTag, viewName, shadowNodeWrapper, viewConfig };\n      if (DOMElement) {\n        this._viewInfo.DOMElement = DOMElement;\n      }\n      return this._viewInfo;\n    }\n\n    _attachAnimatedStyles() {\n      const styles = this.props.style\n        ? onlyAnimatedStyles(flattenArray<StyleProps>(this.props.style))\n        : [];\n      const prevStyles = this._styles;\n      this._styles = styles;\n\n      const prevAnimatedProps = this._animatedProps;\n      this._animatedProps = this.props.animatedProps;\n\n      const { viewTag, viewName, shadowNodeWrapper, viewConfig } =\n        this._getViewInfo();\n\n      // update UI props whitelist for this view\n      const hasReanimated2Props =\n        this.props.animatedProps?.viewDescriptors || styles.length;\n      if (hasReanimated2Props && viewConfig) {\n        adaptViewConfig(viewConfig);\n      }\n\n      // remove old styles\n      if (prevStyles) {\n        // in most of the cases, views have only a single animated style and it remains unchanged\n        const hasOneSameStyle =\n          styles.length === 1 &&\n          prevStyles.length === 1 &&\n          styles[0] === prevStyles[0];\n\n        if (!hasOneSameStyle) {\n          // otherwise, remove each style that is not present in new styles\n          for (const prevStyle of prevStyles) {\n            const isPresent = styles.some((style) => style === prevStyle);\n            if (!isPresent) {\n              prevStyle.viewDescriptors.remove(viewTag);\n            }\n          }\n        }\n      }\n\n      styles.forEach((style) => {\n        style.viewDescriptors.add({\n          tag: viewTag,\n          name: viewName,\n          shadowNodeWrapper,\n        });\n        if (IS_JEST) {\n          /**\n           * We need to connect Jest's TestObject instance whose contains just\n           * props object with the updateProps() function where we update the\n           * properties of the component. We can't update props object directly\n           * because TestObject contains a copy of props - look at render\n           * function: const props = this._filterNonAnimatedProps(this.props);\n           */\n          this.jestAnimatedStyle.value = {\n            ...this.jestAnimatedStyle.value,\n            ...style.initial.value,\n          };\n          style.jestAnimatedStyle.current = this.jestAnimatedStyle;\n        }\n      });\n\n      // detach old animatedProps\n      if (prevAnimatedProps && prevAnimatedProps !== this.props.animatedProps) {\n        prevAnimatedProps.viewDescriptors!.remove(viewTag as number);\n      }\n\n      // attach animatedProps property\n      if (this.props.animatedProps?.viewDescriptors) {\n        this.props.animatedProps.viewDescriptors.add({\n          tag: viewTag as number,\n          name: viewName!,\n          shadowNodeWrapper: shadowNodeWrapper!,\n        });\n      }\n    }\n\n    componentDidUpdate(\n      prevProps: AnimatedComponentProps<InitialComponentProps>,\n      _prevState: Readonly<unknown>,\n      // This type comes straight from React\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      snapshot: DOMRect | null\n    ) {\n      const layout = this.props.layout;\n      const oldLayout = prevProps.layout;\n      if (layout !== oldLayout) {\n        this._configureLayoutTransition();\n      }\n      if (\n        this.props.sharedTransitionTag !== undefined ||\n        prevProps.sharedTransitionTag !== undefined\n      ) {\n        this._configureSharedTransition();\n      }\n      this._NativeEventsManager?.updateEvents(prevProps);\n      this._attachAnimatedStyles();\n      this._InlinePropManager.attachInlineProps(this, this._getViewInfo());\n\n      if (IS_WEB && this.props.exiting && this._componentDOMRef) {\n        saveSnapshot(this._componentDOMRef);\n      }\n\n      // Snapshot won't be undefined because it comes from getSnapshotBeforeUpdate method\n      if (\n        IS_WEB &&\n        snapshot !== null &&\n        this.props.layout &&\n        !getReducedMotionFromConfig(this.props.layout as CustomConfig)\n      ) {\n        tryActivateLayoutTransition(\n          this.props,\n          this._componentDOMRef as ReanimatedHTMLElement,\n          snapshot\n        );\n      }\n    }\n\n    _configureLayoutTransition() {\n      if (IS_WEB) {\n        return;\n      }\n\n      const layout = this.props.layout;\n      if (!layout || getReducedMotionFromConfig(layout as CustomConfig)) {\n        return;\n      }\n      updateLayoutAnimations(\n        this.getComponentViewTag(),\n        LayoutAnimationType.LAYOUT,\n        maybeBuild(\n          layout,\n          undefined /* We don't have to warn user if style has common properties with animation for LAYOUT */,\n          AnimatedComponent.displayName\n        )\n      );\n    }\n\n    _configureSharedTransition(isUnmounting = false) {\n      if (IS_WEB) {\n        return;\n      }\n\n      const { sharedTransitionTag } = this.props;\n      if (!sharedTransitionTag) {\n        this._sharedElementTransition?.unregisterTransition(\n          this.getComponentViewTag(),\n          isUnmounting\n        );\n        this._sharedElementTransition = null;\n        return;\n      }\n      const sharedElementTransition =\n        this.props.sharedTransitionStyle ??\n        this._sharedElementTransition ??\n        new SharedTransition();\n      sharedElementTransition.registerTransition(\n        this.getComponentViewTag(),\n        sharedTransitionTag,\n        isUnmounting\n      );\n      this._sharedElementTransition = sharedElementTransition;\n    }\n\n    _resolveComponentRef = (ref: Component | HTMLElement | null) => {\n      const componentRef = ref as AnimatedComponentRef;\n      // Component can specify ref which should be animated when animated version of the component is created.\n      // Otherwise, we animate the component itself.\n      if (componentRef && componentRef.getAnimatableRef) {\n        this._hasAnimatedRef = true;\n        return componentRef.getAnimatableRef();\n      }\n      // Case for SVG components on Web\n      if (SHOULD_BE_USE_WEB) {\n        if (componentRef && componentRef.elementRef) {\n          this._componentDOMRef = componentRef.elementRef.current;\n        } else {\n          this._componentDOMRef = ref as HTMLElement;\n        }\n      }\n      return componentRef;\n    };\n\n    _setComponentRef = setAndForwardRef<Component | HTMLElement>({\n      getForwardedRef: () =>\n        this.props.forwardedRef as RefObject<\n          Component<Record<string, unknown>, Record<string, unknown>, unknown>\n        >,\n      setLocalRef: (ref) => {\n        if (!ref) {\n          // component has been unmounted\n          return;\n        }\n        if (ref !== this._componentRef) {\n          this._componentRef = this._resolveComponentRef(ref);\n          // if ref is changed, reset viewInfo\n          this._viewInfo = undefined;\n        }\n        const tag = this.getComponentViewTag();\n\n        const { layout, entering, exiting, sharedTransitionTag } = this.props;\n        if (layout || entering || exiting || sharedTransitionTag) {\n          if (!SHOULD_BE_USE_WEB) {\n            enableLayoutAnimations(true, false);\n          }\n\n          if (sharedTransitionTag) {\n            this._configureSharedTransition();\n          }\n          if (exiting && isFabric()) {\n            const reduceMotionInExiting =\n              'getReduceMotion' in exiting &&\n              typeof exiting.getReduceMotion === 'function'\n                ? getReduceMotionFromConfig(exiting.getReduceMotion())\n                : getReduceMotionFromConfig();\n            if (!reduceMotionInExiting) {\n              updateLayoutAnimations(\n                tag,\n                LayoutAnimationType.EXITING,\n                maybeBuild(\n                  exiting,\n                  this.props?.style,\n                  AnimatedComponent.displayName\n                )\n              );\n            }\n          }\n\n          const skipEntering = this.context?.current;\n          if (entering && !isFabric() && !skipEntering && !IS_WEB) {\n            updateLayoutAnimations(\n              tag,\n              LayoutAnimationType.ENTERING,\n              maybeBuild(\n                entering,\n                this.props?.style,\n                AnimatedComponent.displayName\n              )\n            );\n          }\n        }\n      },\n    });\n\n    // This is a component lifecycle method from React, therefore we are not calling it directly.\n    // It is called before the component gets rerendered. This way we can access components' position before it changed\n    // and later on, in componentDidUpdate, calculate translation for layout transition.\n    getSnapshotBeforeUpdate() {\n      if (\n        IS_WEB &&\n        this._componentDOMRef?.getBoundingClientRect !== undefined\n      ) {\n        return this._componentDOMRef.getBoundingClientRect();\n      }\n\n      return null;\n    }\n\n    render() {\n      const filteredProps = this._PropsFilter.filterNonAnimatedProps(this);\n\n      if (IS_JEST) {\n        filteredProps.jestAnimatedStyle = this.jestAnimatedStyle;\n      }\n\n      // Layout animations on web are set inside `componentDidMount` method, which is called after first render.\n      // Because of that we can encounter a situation in which component is visible for a short amount of time, and later on animation triggers.\n      // I've tested that on various browsers and devices and it did not happen to me. To be sure that it won't happen to someone else,\n      // I've decided to hide component at first render. Its visibility is reset in `componentDidMount`.\n      if (\n        this._isFirstRender &&\n        IS_WEB &&\n        filteredProps.entering &&\n        !getReducedMotionFromConfig(filteredProps.entering as CustomConfig)\n      ) {\n        filteredProps.style = {\n          ...(filteredProps.style ?? {}),\n          visibility: 'hidden', // Hide component until `componentDidMount` triggers\n        };\n      }\n\n      const platformProps = Platform.select({\n        web: {},\n        default: { collapsable: false },\n      });\n\n      const skipEntering = this.context?.current;\n      const nativeID =\n        skipEntering || !isFabric() ? undefined : `${this.reanimatedID}`;\n\n      const jestProps = IS_JEST\n        ? {\n            jestInlineStyle: this.props.style,\n            jestAnimatedStyle: this.jestAnimatedStyle,\n          }\n        : {};\n\n      return (\n        <Component\n          nativeID={nativeID}\n          {...filteredProps}\n          {...jestProps}\n          // Casting is used here, because ref can be null - in that case it cannot be assigned to HTMLElement.\n          // After spending some time trying to figure out what to do with this problem, we decided to leave it this way\n          ref={this._setComponentRef as (ref: Component) => void}\n          {...platformProps}\n        />\n      );\n    }\n  }\n\n  AnimatedComponent.displayName = `AnimatedComponent(${\n    Component.displayName || Component.name || 'Component'\n  })`;\n\n  const animatedComponent = componentWithRef(\n    (\n      props: PropsWithoutRef<AnimatedComponentProps<InitialComponentProps>>,\n      ref: Ref<Component>\n    ) => (\n      <AnimatedComponent\n        {...props}\n        {...(ref === null ? null : { forwardedRef: ref })}\n      />\n    )\n  );\n\n  animatedComponent.displayName =\n    Component.displayName || Component.name || 'Component';\n\n  return animatedComponent;\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}