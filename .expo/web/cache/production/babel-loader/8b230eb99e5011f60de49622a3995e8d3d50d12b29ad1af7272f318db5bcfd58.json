{"ast":null,"code":"'use strict';import{defineAnimation,getReduceMotionForAnimation}from\"./util.js\";var _worklet_12832699867865_init_data={code:\"function repeatJs1(_nextAnimation,numberOfReps=2,reverse=false,callback,reduceMotion){const{defineAnimation,getReduceMotionForAnimation}=this.__closure;return defineAnimation(_nextAnimation,function(){'worklet';const nextAnimation=typeof _nextAnimation==='function'?_nextAnimation():_nextAnimation;function repeat(animation,now){const finished=nextAnimation.onFrame(nextAnimation,now);animation.current=nextAnimation.current;if(finished){animation.reps+=1;if(nextAnimation.callback){nextAnimation.callback(true,animation.current);}if(animation.reduceMotion||numberOfReps>0&&animation.reps>=numberOfReps){return true;}const startValue=reverse?nextAnimation.current:animation.startValue;if(reverse){nextAnimation.toValue=animation.startValue;animation.startValue=startValue;}nextAnimation.onStart(nextAnimation,startValue,now,nextAnimation.previousAnimation);return false;}return false;}const repCallback=function(finished){if(callback){callback(finished);}if(!finished&&nextAnimation.callback){nextAnimation.callback(false);}};function onStart(animation,value,now,previousAnimation){animation.startValue=value;animation.reps=0;if(nextAnimation.reduceMotion===undefined){nextAnimation.reduceMotion=animation.reduceMotion;}if(animation.reduceMotion&&reverse&&(numberOfReps<=0||numberOfReps%2===0)){animation.current=animation.startValue;animation.onFrame=function(){return true;};}else{nextAnimation.onStart(nextAnimation,value,now,previousAnimation);}}return{isHigherOrder:true,onFrame:repeat,onStart:onStart,reps:0,current:nextAnimation.current,callback:repCallback,startValue:0,reduceMotion:getReduceMotionForAnimation(reduceMotion)};});}\"};var _worklet_7413849111877_init_data={code:\"function repeatJs2(){const{_nextAnimation,numberOfReps,reverse,callback,getReduceMotionForAnimation,reduceMotion}=this.__closure;const nextAnimation=typeof _nextAnimation==='function'?_nextAnimation():_nextAnimation;function repeat(animation,now){const finished=nextAnimation.onFrame(nextAnimation,now);animation.current=nextAnimation.current;if(finished){animation.reps+=1;if(nextAnimation.callback){nextAnimation.callback(true,animation.current);}if(animation.reduceMotion||numberOfReps>0&&animation.reps>=numberOfReps){return true;}const startValue=reverse?nextAnimation.current:animation.startValue;if(reverse){nextAnimation.toValue=animation.startValue;animation.startValue=startValue;}nextAnimation.onStart(nextAnimation,startValue,now,nextAnimation.previousAnimation);return false;}return false;}const repCallback=function(finished){if(callback){callback(finished);}if(!finished&&nextAnimation.callback){nextAnimation.callback(false);}};function onStart(animation,value,now,previousAnimation){animation.startValue=value;animation.reps=0;if(nextAnimation.reduceMotion===undefined){nextAnimation.reduceMotion=animation.reduceMotion;}if(animation.reduceMotion&&reverse&&(numberOfReps<=0||numberOfReps%2===0)){animation.current=animation.startValue;animation.onFrame=function(){return true;};}else{nextAnimation.onStart(nextAnimation,value,now,previousAnimation);}}return{isHigherOrder:true,onFrame:repeat,onStart:onStart,reps:0,current:nextAnimation.current,callback:repCallback,startValue:0,reduceMotion:getReduceMotionForAnimation(reduceMotion)};}\"};export var withRepeat=function(){var repeatJs1=function repeatJs1(_nextAnimation){var numberOfReps=arguments.length>1&&arguments[1]!==undefined?arguments[1]:2;var reverse=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var callback=arguments.length>3?arguments[3]:undefined;var reduceMotion=arguments.length>4?arguments[4]:undefined;return defineAnimation(_nextAnimation,function(){var repeatJs2=function repeatJs2(){var nextAnimation=typeof _nextAnimation==='function'?_nextAnimation():_nextAnimation;function repeat(animation,now){var finished=nextAnimation.onFrame(nextAnimation,now);animation.current=nextAnimation.current;if(finished){animation.reps+=1;if(nextAnimation.callback){nextAnimation.callback(true,animation.current);}if(animation.reduceMotion||numberOfReps>0&&animation.reps>=numberOfReps){return true;}var startValue=reverse?nextAnimation.current:animation.startValue;if(reverse){nextAnimation.toValue=animation.startValue;animation.startValue=startValue;}nextAnimation.onStart(nextAnimation,startValue,now,nextAnimation.previousAnimation);return false;}return false;}var repCallback=function repCallback(finished){if(callback){callback(finished);}if(!finished&&nextAnimation.callback){nextAnimation.callback(false);}};function onStart(animation,value,now,previousAnimation){animation.startValue=value;animation.reps=0;if(nextAnimation.reduceMotion===undefined){nextAnimation.reduceMotion=animation.reduceMotion;}if(animation.reduceMotion&&reverse&&(numberOfReps<=0||numberOfReps%2===0)){animation.current=animation.startValue;animation.onFrame=function(){return true;};}else{nextAnimation.onStart(nextAnimation,value,now,previousAnimation);}}return{isHigherOrder:true,onFrame:repeat,onStart:onStart,reps:0,current:nextAnimation.current,callback:repCallback,startValue:0,reduceMotion:getReduceMotionForAnimation(reduceMotion)};};repeatJs2.__closure={_nextAnimation:_nextAnimation,numberOfReps:numberOfReps,reverse:reverse,callback:callback,getReduceMotionForAnimation:getReduceMotionForAnimation,reduceMotion:reduceMotion};repeatJs2.__workletHash=7413849111877;repeatJs2.__initData=_worklet_7413849111877_init_data;return repeatJs2;}());};repeatJs1.__closure={defineAnimation:defineAnimation,getReduceMotionForAnimation:getReduceMotionForAnimation};repeatJs1.__workletHash=12832699867865;repeatJs1.__initData=_worklet_12832699867865_init_data;return repeatJs1;}();","map":{"version":3,"names":["defineAnimation","getReduceMotionForAnimation","_worklet_12832699867865_init_data","code","_worklet_7413849111877_init_data","withRepeat","repeatJs1","_nextAnimation","numberOfReps","arguments","length","undefined","reverse","callback","reduceMotion","repeatJs2","nextAnimation","repeat","animation","now","finished","onFrame","current","reps","startValue","toValue","onStart","previousAnimation","repCallback","value","isHigherOrder","__closure","__workletHash","__initData"],"sources":["C:\\Users\\Jorn\\Documents\\hitster\\node_modules\\react-native-reanimated\\src\\animation\\repeat.ts"],"sourcesContent":["'use strict';\nimport type {\n  AnimatableValue,\n  Animation,\n  AnimationCallback,\n  AnimationObject,\n  ReduceMotion,\n  Timestamp,\n} from '../commonTypes';\nimport type { RepeatAnimation } from './commonTypes';\nimport { defineAnimation, getReduceMotionForAnimation } from './util';\n\n// TODO TYPESCRIPT This is a temporary type to get rid of .d.ts file.\ntype withRepeatType = <T extends AnimatableValue>(\n  animation: T,\n  numberOfReps?: number,\n  reverse?: boolean,\n  callback?: AnimationCallback,\n  reduceMotion?: ReduceMotion\n) => T;\n\n/**\n * Lets you repeat an animation given number of times or run it indefinitely.\n *\n * @param animation - An animation object you want to repeat.\n * @param numberOfReps - The number of times the animation is going to be\n *   repeated. Defaults to 2.\n * @param reverse - Whether the animation should run in reverse every other\n *   repetition. Defaults to false.\n * @param callback - A function called on animation complete.\n * @param reduceMotion - Determines how the animation responds to the device's\n *   reduced motion accessibility setting. Default to `ReduceMotion.System` -\n *   {@link ReduceMotion}.\n * @returns An [animation\n *   object](https://docs.swmansion.com/react-native-reanimated/docs/fundamentals/glossary#animation-object)\n *   which holds the current state of the animation.\n * @see https://docs.swmansion.com/react-native-reanimated/docs/animations/withRepeat\n */\nexport const withRepeat = function <T extends AnimationObject>(\n  _nextAnimation: T | (() => T),\n  numberOfReps = 2,\n  reverse = false,\n  callback?: AnimationCallback,\n  reduceMotion?: ReduceMotion\n): Animation<RepeatAnimation> {\n  'worklet';\n\n  return defineAnimation<RepeatAnimation, T>(\n    _nextAnimation,\n    (): RepeatAnimation => {\n      'worklet';\n\n      const nextAnimation =\n        typeof _nextAnimation === 'function'\n          ? _nextAnimation()\n          : _nextAnimation;\n\n      function repeat(animation: RepeatAnimation, now: Timestamp): boolean {\n        const finished = nextAnimation.onFrame(nextAnimation, now);\n        animation.current = nextAnimation.current;\n        if (finished) {\n          animation.reps += 1;\n          // call inner animation's callback on every repetition\n          // as the second argument the animation's current value is passed\n          if (nextAnimation.callback) {\n            nextAnimation.callback(true /* finished */, animation.current);\n          }\n          if (\n            animation.reduceMotion ||\n            (numberOfReps > 0 && animation.reps >= numberOfReps)\n          ) {\n            return true;\n          }\n\n          const startValue = reverse\n            ? (nextAnimation.current as number)\n            : animation.startValue;\n          if (reverse) {\n            nextAnimation.toValue = animation.startValue;\n            animation.startValue = startValue;\n          }\n          nextAnimation.onStart(\n            nextAnimation,\n            startValue,\n            now,\n            nextAnimation.previousAnimation as RepeatAnimation\n          );\n          return false;\n        }\n        return false;\n      }\n\n      const repCallback = (finished?: boolean): void => {\n        if (callback) {\n          callback(finished);\n        }\n        // when cancelled call inner animation's callback\n        if (!finished && nextAnimation.callback) {\n          nextAnimation.callback(false /* finished */);\n        }\n      };\n\n      function onStart(\n        animation: RepeatAnimation,\n        value: AnimatableValue,\n        now: Timestamp,\n        previousAnimation: Animation<any> | null\n      ): void {\n        animation.startValue = value;\n        animation.reps = 0;\n\n        // child animations inherit the setting, unless they already have it defined\n        // they will have it defined only if the user used the `reduceMotion` prop\n        if (nextAnimation.reduceMotion === undefined) {\n          nextAnimation.reduceMotion = animation.reduceMotion;\n        }\n\n        // don't start the animation if reduced motion is enabled and\n        // the animation would end at its starting point\n        if (\n          animation.reduceMotion &&\n          reverse &&\n          (numberOfReps <= 0 || numberOfReps % 2 === 0)\n        ) {\n          animation.current = animation.startValue;\n          animation.onFrame = () => true;\n        } else {\n          nextAnimation.onStart(nextAnimation, value, now, previousAnimation);\n        }\n      }\n\n      return {\n        isHigherOrder: true,\n        onFrame: repeat,\n        onStart,\n        reps: 0,\n        current: nextAnimation.current,\n        callback: repCallback,\n        startValue: 0,\n        reduceMotion: getReduceMotionForAnimation(reduceMotion),\n      };\n    }\n  );\n} as withRepeatType;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}