{"ast":null,"code":"'use strict';import{isWorkletFunction}from\"./commonTypes.js\";import{ReanimatedError,registerReanimatedError}from\"./errors.js\";import{setupCallGuard,setupConsole}from\"./initializers.js\";import{registerLoggerConfig}from\"./logger/index.js\";import{shouldBeUseWeb}from\"./PlatformChecker.js\";import{ReanimatedModule}from'./ReanimatedModule';import{makeShareableCloneOnUIRecursive,makeShareableCloneRecursive}from\"./shareables.js\";var SHOULD_BE_USE_WEB=shouldBeUseWeb();var _worklet_13133397333906_init_data={code:\"function runtimesJs1(){const{registerReanimatedError,registerLoggerConfig,config,setupCallGuard,setupConsole,initializer}=this.__closure;var _initializer;registerReanimatedError();registerLoggerConfig(config);setupCallGuard();setupConsole();(_initializer=initializer)===null||_initializer===void 0||_initializer();}\"};export function createWorkletRuntime(name,initializer){var config=__reanimatedLoggerConfig;return ReanimatedModule.createWorkletRuntime(name,makeShareableCloneRecursive(function(){var runtimesJs1=function runtimesJs1(){registerReanimatedError();registerLoggerConfig(config);setupCallGuard();setupConsole();initializer==null?void 0:initializer();};runtimesJs1.__closure={registerReanimatedError:registerReanimatedError,registerLoggerConfig:registerLoggerConfig,config:config,setupCallGuard:setupCallGuard,setupConsole:setupConsole,initializer:initializer};runtimesJs1.__workletHash=13133397333906;runtimesJs1.__initData=_worklet_13133397333906_init_data;return runtimesJs1;}()));}var _worklet_1006159025938_init_data={code:\"function runOnRuntime_runtimesJs2(workletRuntime,worklet){const{__DEV__,SHOULD_BE_USE_WEB,isWorkletFunction,makeShareableCloneOnUIRecursive,ReanimatedModule,makeShareableCloneRecursive}=this.__closure;if(__DEV__&&!SHOULD_BE_USE_WEB&&!isWorkletFunction(worklet)){throw new ReanimatedError('The function passed to `runOnRuntime` is not a worklet.'+(_WORKLET?' Please make sure that `processNestedWorklets` option in Reanimated Babel plugin is enabled.':''));}if(_WORKLET){return function(...args){return global._scheduleOnRuntime(workletRuntime,makeShareableCloneOnUIRecursive(function(){'worklet';worklet(...args);}));};}return function(...args){return ReanimatedModule.scheduleOnRuntime(workletRuntime,makeShareableCloneRecursive(function(){'worklet';worklet(...args);}));};}\"};var _worklet_6491700233187_init_data={code:\"function runtimesJs3(){const{worklet,args}=this.__closure;worklet(...args);}\"};var _worklet_14633622172548_init_data={code:\"function runtimesJs4(){const{worklet,args}=this.__closure;worklet(...args);}\"};export var runOnRuntime=function(){var runOnRuntime=function runOnRuntime(workletRuntime,worklet){if(false&&!SHOULD_BE_USE_WEB&&!isWorkletFunction(worklet)){throw new ReanimatedError('The function passed to `runOnRuntime` is not a worklet.'+(_WORKLET?' Please make sure that `processNestedWorklets` option in Reanimated Babel plugin is enabled.':''));}if(_WORKLET){return function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return global._scheduleOnRuntime(workletRuntime,makeShareableCloneOnUIRecursive(function(){var runtimesJs3=function runtimesJs3(){worklet.apply(void 0,args);};runtimesJs3.__closure={worklet:worklet,args:args};runtimesJs3.__workletHash=6491700233187;runtimesJs3.__initData=_worklet_6491700233187_init_data;return runtimesJs3;}()));};}return function(){for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2];}return ReanimatedModule.scheduleOnRuntime(workletRuntime,makeShareableCloneRecursive(function(){var runtimesJs4=function runtimesJs4(){worklet.apply(void 0,args);};runtimesJs4.__closure={worklet:worklet,args:args};runtimesJs4.__workletHash=14633622172548;runtimesJs4.__initData=_worklet_14633622172548_init_data;return runtimesJs4;}()));};};runOnRuntime.__closure={__DEV__:false,SHOULD_BE_USE_WEB:SHOULD_BE_USE_WEB,isWorkletFunction:isWorkletFunction,makeShareableCloneOnUIRecursive:makeShareableCloneOnUIRecursive,ReanimatedModule:ReanimatedModule,makeShareableCloneRecursive:makeShareableCloneRecursive};runOnRuntime.__workletHash=1006159025938;runOnRuntime.__initData=_worklet_1006159025938_init_data;return runOnRuntime;}();","map":{"version":3,"names":["isWorkletFunction","ReanimatedError","registerReanimatedError","setupCallGuard","setupConsole","registerLoggerConfig","shouldBeUseWeb","ReanimatedModule","makeShareableCloneOnUIRecursive","makeShareableCloneRecursive","SHOULD_BE_USE_WEB","_worklet_13133397333906_init_data","code","createWorkletRuntime","name","initializer","config","__reanimatedLoggerConfig","runtimesJs1","__closure","__workletHash","__initData","_worklet_1006159025938_init_data","_worklet_6491700233187_init_data","_worklet_14633622172548_init_data","runOnRuntime","workletRuntime","worklet","_WORKLET","_len","arguments","length","args","Array","_key","global","_scheduleOnRuntime","runtimesJs3","apply","_len2","_key2","scheduleOnRuntime","runtimesJs4","__DEV__"],"sources":["C:\\Users\\Jorn\\Documents\\hitster\\node_modules\\react-native-reanimated\\src\\runtimes.ts"],"sourcesContent":["'use strict';\nimport type { WorkletFunction } from './commonTypes';\nimport { isWorkletFunction } from './commonTypes';\nimport { ReanimatedError, registerReanimatedError } from './errors';\nimport { setupCallGuard, setupConsole } from './initializers';\nimport { registerLoggerConfig } from './logger';\nimport { shouldBeUseWeb } from './PlatformChecker';\nimport { ReanimatedModule } from './ReanimatedModule';\nimport {\n  makeShareableCloneOnUIRecursive,\n  makeShareableCloneRecursive,\n} from './shareables';\n\nconst SHOULD_BE_USE_WEB = shouldBeUseWeb();\n\nexport type WorkletRuntime = {\n  __hostObjectWorkletRuntime: never;\n  readonly name: string;\n};\n\n/**\n * Lets you create a new JS runtime which can be used to run worklets possibly\n * on different threads than JS or UI thread.\n *\n * @param name - A name used to identify the runtime which will appear in\n *   devices list in Chrome DevTools.\n * @param initializer - An optional worklet that will be run synchronously on\n *   the same thread immediately after the runtime is created.\n * @returns WorkletRuntime which is a\n *   `jsi::HostObject<reanimated::WorkletRuntime>` - {@link WorkletRuntime}\n * @see https://docs.swmansion.com/react-native-reanimated/docs/threading/createWorkletRuntime\n */\n// @ts-expect-error Check `runOnUI` overload.\nexport function createWorkletRuntime(\n  name: string,\n  initializer?: () => void\n): WorkletRuntime;\n\nexport function createWorkletRuntime(\n  name: string,\n  initializer?: WorkletFunction<[], void>\n): WorkletRuntime {\n  // Assign to a different variable as __reanimatedLoggerConfig is not a captured\n  // identifier in the Worklet runtime.\n  const config = __reanimatedLoggerConfig;\n  return ReanimatedModule.createWorkletRuntime(\n    name,\n    makeShareableCloneRecursive(() => {\n      'worklet';\n      registerReanimatedError();\n      registerLoggerConfig(config);\n      setupCallGuard();\n      setupConsole();\n      initializer?.();\n    })\n  );\n}\n\n// @ts-expect-error Check `runOnUI` overload.\nexport function runOnRuntime<Args extends unknown[], ReturnValue>(\n  workletRuntime: WorkletRuntime,\n  worklet: (...args: Args) => ReturnValue\n): WorkletFunction<Args, ReturnValue>;\n/** Schedule a worklet to execute on the background queue. */\nexport function runOnRuntime<Args extends unknown[], ReturnValue>(\n  workletRuntime: WorkletRuntime,\n  worklet: WorkletFunction<Args, ReturnValue>\n): (...args: Args) => void {\n  'worklet';\n  if (__DEV__ && !SHOULD_BE_USE_WEB && !isWorkletFunction(worklet)) {\n    throw new ReanimatedError(\n      'The function passed to `runOnRuntime` is not a worklet.' +\n        (_WORKLET\n          ? ' Please make sure that `processNestedWorklets` option in Reanimated Babel plugin is enabled.'\n          : '')\n    );\n  }\n  if (_WORKLET) {\n    return (...args) =>\n      global._scheduleOnRuntime(\n        workletRuntime,\n        makeShareableCloneOnUIRecursive(() => {\n          'worklet';\n          worklet(...args);\n        })\n      );\n  }\n  return (...args) =>\n    ReanimatedModule.scheduleOnRuntime(\n      workletRuntime,\n      makeShareableCloneRecursive(() => {\n        'worklet';\n        worklet(...args);\n      })\n    );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}